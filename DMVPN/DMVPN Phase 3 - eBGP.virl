<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<topology xmlns="http://www.cisco.com/VIRL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" schemaVersion="0.9" xsi:schemaLocation="http://www.cisco.com/VIRL https://raw.github.com/CiscoVIRL/schema/v0.9/virl.xsd">
    <extensions>
        <entry type="String" key="management_network">exclusive</entry>
        <entry type="Boolean" key="AutoNetkit.enable_routing">false</entry>
        <entry type="Boolean" key="AutoNetkit.enable_cdp">true</entry>
        <entry type="String" key="AutoNetkit.IGP">ospf</entry>
    </extensions>
    <node location="499,175" subtype="IOSv" type="SIMPLE" name="wan">
        <extensions>
            <entry type="string" key="AutoNetkit.mgmt_ip"></entry>
            <entry type="Boolean" key="Auto-generate config">false</entry>
            <entry type="String" key="config">!&#xD;! Last configuration change at 15:32:22 UTC Wed Jul 1 2015&#xD;!&#xD;version 15.5&#xD;service timestamps debug datetime msec&#xD;service timestamps log datetime msec&#xD;no service password-encryption&#xD;!&#xD;hostname wan&#xD;!&#xD;boot-start-marker&#xD;boot-end-marker&#xD;!&#xD;!&#xD;!&#xD;no aaa new-model&#xD;ethernet lmi ce&#xD;!&#xD;!&#xD;!&#xD;bsd-client server url https://cloudsso.cisco.com/as/token.oauth2&#xD;mmi polling-interval 60&#xD;no mmi auto-configure&#xD;no mmi pvc&#xD;mmi snmp-timeout 180&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;ip cef&#xD;no ipv6 cef&#xD;!&#xD;multilink bundle-name authenticated&#xD;!&#xD;!&#xD;cts logging verbose&#xD;!&#xD;!&#xD;!&#xD;redundancy&#xD;!&#xD;!&#xD;! &#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;interface GigabitEthernet0/0&#xD; ip address 10.255.0.99 255.255.0.0&#xD; shutdown&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;interface GigabitEthernet0/1&#xD; ip address 172.16.0.1 255.255.255.252&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;interface GigabitEthernet0/2&#xD; ip address 172.16.0.5 255.255.255.252&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;interface GigabitEthernet0/3&#xD; ip address 172.16.0.9 255.255.255.252&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;interface GigabitEthernet0/4&#xD; ip address 172.16.0.13 255.255.255.252&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;interface GigabitEthernet0/5&#xD; ip address 172.16.0.17 255.255.255.252&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;interface GigabitEthernet0/6&#xD; ip address 172.16.0.21 255.255.255.252&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;interface GigabitEthernet0/7&#xD; ip address 172.16.0.25 255.255.255.252&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;interface GigabitEthernet0/8&#xD; ip address 172.16.0.29 255.255.255.252&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;router bgp 65534&#xD; bgp log-neighbor-changes&#xD; bgp listen range 172.16.0.0/24 peer-group WAN&#xD; redistribute connected&#xD; neighbor WAN peer-group&#xD; neighbor WAN remote-as 65534&#xD; neighbor WAN route-reflector-client&#xD;!&#xD;ip forward-protocol nd&#xD;!&#xD;!&#xD;no ip http server&#xD;no ip http secure-server&#xD;!&#xD;!&#xD;!&#xD;!&#xD;control-plane&#xD;!&#xD;banner exec `&#xD;**************************************************************************&#xD;* IOSv is strictly limited to use for evaluation, demonstration and IOS  *&#xD;* education. IOSv is provided as-is and is not supported by Cisco's      *&#xD;* Technical Advisory Center. Any use or disclosure, in whole or in part, *&#xD;* of the IOSv Software or Documentation to any third party for any       *&#xD;* purposes is expressly prohibited except as otherwise authorized by     *&#xD;* Cisco in writing.                                                      *&#xD;**************************************************************************`&#xD;banner incoming `&#xD;**************************************************************************&#xD;* IOSv is strictly limited to use for evaluation, demonstration and IOS  *&#xD;* education. IOSv is provided as-is and is not supported by Cisco's      *&#xD;* Technical Advisory Center. Any use or disclosure, in whole or in part, *&#xD;* of the IOSv Software or Documentation to any third party for any       *&#xD;* purposes is expressly prohibited except as otherwise authorized by     *&#xD;* Cisco in writing.                                                      *&#xD;**************************************************************************`&#xD;banner login `&#xD;**************************************************************************&#xD;* IOSv is strictly limited to use for evaluation, demonstration and IOS  *&#xD;* education. IOSv is provided as-is and is not supported by Cisco's      *&#xD;* Technical Advisory Center. Any use or disclosure, in whole or in part, *&#xD;* of the IOSv Software or Documentation to any third party for any       *&#xD;* purposes is expressly prohibited except as otherwise authorized by     *&#xD;* Cisco in writing.                                                      *&#xD;**************************************************************************`&#xD;!&#xD;line con 0&#xD;line aux 0&#xD;line vty 0 4&#xD; login&#xD; transport input none&#xD;!&#xD;no scheduler allocate&#xD;!&#xD;end</entry>
        </extensions>
        <interface name="GigabitEthernet0/1" id="0"/>
        <interface name="GigabitEthernet0/2" id="1"/>
        <interface name="GigabitEthernet0/3" id="2"/>
        <interface name="GigabitEthernet0/4" id="3"/>
        <interface name="GigabitEthernet0/5" id="4"/>
        <interface name="GigabitEthernet0/6" id="5"/>
        <interface name="GigabitEthernet0/7" id="6"/>
        <interface name="GigabitEthernet0/8" id="7"/>
    </node>
    <node location="158,455" subtype="IOSv" type="SIMPLE" name="site-1">
        <extensions>
            <entry type="string" key="AutoNetkit.mgmt_ip"></entry>
            <entry type="Boolean" key="Auto-generate config">false</entry>
            <entry type="String" key="config">!&#xD;! Last configuration change at 15:44:19 UTC Wed Jul 1 2015&#xD;!&#xD;version 15.5&#xD;service timestamps debug datetime msec&#xD;service timestamps log datetime msec&#xD;no service password-encryption&#xD;!&#xD;hostname site-1&#xD;!&#xD;boot-start-marker&#xD;boot-end-marker&#xD;!&#xD;!&#xD;!&#xD;no aaa new-model&#xD;ethernet lmi ce&#xD;!&#xD;!&#xD;!&#xD;bsd-client server url https://cloudsso.cisco.com/as/token.oauth2&#xD;mmi polling-interval 60&#xD;no mmi auto-configure&#xD;no mmi pvc&#xD;mmi snmp-timeout 180&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;ip cef&#xD;no ipv6 cef&#xD;!&#xD;multilink bundle-name authenticated&#xD;!&#xD;!&#xD;cts logging verbose&#xD;!&#xD;!&#xD;!&#xD;redundancy&#xD;!&#xD;!&#xD;! &#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;interface Loopback0&#xD; ip address 10.1.255.1 255.255.255.255&#xD;!&#xD;interface Loopback50&#xD; ip address 10.1.0.1 255.255.255.0&#xD;!&#xD;interface Loopback51&#xD; ip address 10.1.1.1 255.255.255.0&#xD;!&#xD;interface Loopback52&#xD; ip address 10.1.2.1 255.255.255.0&#xD;!&#xD;interface Loopback53&#xD; ip address 10.1.128.1 255.255.255.0&#xD;!&#xD;interface Loopback54&#xD; ip address 10.1.129.1 255.255.255.0&#xD;!&#xD;interface Loopback55&#xD; ip address 10.1.130.1 255.255.255.0&#xD;!&#xD;interface GigabitEthernet0/0&#xD; ip address 10.255.0.19 255.255.0.0&#xD; shutdown&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;interface GigabitEthernet0/1&#xD; ip address 10.1.254.2 255.255.255.252&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;interface GigabitEthernet0/2&#xD; ip address 10.1.254.6 255.255.255.252&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;!&#xD;router eigrp 7&#xD; network 10.1.0.0 0.0.255.255&#xD; redistribute connected&#xD; passive-interface default&#xD; no passive-interface GigabitEthernet0/1&#xD; no passive-interface GigabitEthernet0/2&#xD; eigrp router-id 10.1.255.1&#xD; eigrp stub connected&#xD;!&#xD;ip forward-protocol nd&#xD;!&#xD;!&#xD;no ip http server&#xD;no ip http secure-server&#xD;!&#xD;!&#xD;!&#xD;!&#xD;control-plane&#xD;!&#xD;banner exec `&#xD;**************************************************************************&#xD;* IOSv is strictly limited to use for evaluation, demonstration and IOS  *&#xD;* education. IOSv is provided as-is and is not supported by Cisco's      *&#xD;* Technical Advisory Center. Any use or disclosure, in whole or in part, *&#xD;* of the IOSv Software or Documentation to any third party for any       *&#xD;* purposes is expressly prohibited except as otherwise authorized by     *&#xD;* Cisco in writing.                                                      *&#xD;**************************************************************************`&#xD;banner incoming `&#xD;**************************************************************************&#xD;* IOSv is strictly limited to use for evaluation, demonstration and IOS  *&#xD;* education. IOSv is provided as-is and is not supported by Cisco's      *&#xD;* Technical Advisory Center. Any use or disclosure, in whole or in part, *&#xD;* of the IOSv Software or Documentation to any third party for any       *&#xD;* purposes is expressly prohibited except as otherwise authorized by     *&#xD;* Cisco in writing.                                                      *&#xD;**************************************************************************`&#xD;banner login `&#xD;**************************************************************************&#xD;* IOSv is strictly limited to use for evaluation, demonstration and IOS  *&#xD;* education. IOSv is provided as-is and is not supported by Cisco's      *&#xD;* Technical Advisory Center. Any use or disclosure, in whole or in part, *&#xD;* of the IOSv Software or Documentation to any third party for any       *&#xD;* purposes is expressly prohibited except as otherwise authorized by     *&#xD;* Cisco in writing.                                                      *&#xD;**************************************************************************`&#xD;!&#xD;line con 0&#xD;line aux 0&#xD;line vty 0 4&#xD; login&#xD; transport input none&#xD;!&#xD;no scheduler allocate&#xD;!&#xD;end</entry>
        </extensions>
        <interface name="GigabitEthernet0/1" id="0"/>
        <interface name="GigabitEthernet0/2" id="1"/>
    </node>
    <node location="490,452" subtype="IOSv" type="SIMPLE" name="site-2">
        <extensions>
            <entry type="string" key="AutoNetkit.mgmt_ip"></entry>
            <entry type="Boolean" key="Auto-generate config">false</entry>
            <entry type="String" key="config">!&#xD;! Last configuration change at 15:47:08 UTC Wed Jul 1 2015&#xD;!&#xD;version 15.5&#xD;service timestamps debug datetime msec&#xD;service timestamps log datetime msec&#xD;no service password-encryption&#xD;!&#xD;hostname site-2&#xD;!&#xD;boot-start-marker&#xD;boot-end-marker&#xD;!&#xD;!&#xD;!&#xD;no aaa new-model&#xD;ethernet lmi ce&#xD;!&#xD;!&#xD;!&#xD;bsd-client server url https://cloudsso.cisco.com/as/token.oauth2&#xD;mmi polling-interval 60&#xD;no mmi auto-configure&#xD;no mmi pvc&#xD;mmi snmp-timeout 180&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;ip cef&#xD;no ipv6 cef&#xD;!&#xD;multilink bundle-name authenticated&#xD;!&#xD;!&#xD;cts logging verbose&#xD;!&#xD;!&#xD;!&#xD;redundancy&#xD;!&#xD;!&#xD;! &#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;interface Loopback0&#xD; ip address 10.2.255.1 255.255.255.255&#xD;!&#xD;interface Loopback50&#xD; ip address 10.2.0.1 255.255.255.0&#xD;!&#xD;interface Loopback51&#xD; ip address 10.2.1.1 255.255.255.0&#xD;!&#xD;interface Loopback52&#xD; ip address 10.2.2.1 255.255.255.0&#xD;!&#xD;interface Loopback53&#xD; ip address 10.2.128.1 255.255.255.0&#xD;!&#xD;interface Loopback54&#xD; ip address 10.2.129.1 255.255.255.0&#xD;!&#xD;interface Loopback55&#xD; ip address 10.2.130.1 255.255.255.0&#xD;!&#xD;interface GigabitEthernet0/0&#xD; ip address 10.255.0.29 255.255.0.0&#xD; shutdown&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;interface GigabitEthernet0/1&#xD; ip address 10.2.254.2 255.255.255.252&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;interface GigabitEthernet0/2&#xD; ip address 10.2.254.6 255.255.255.252&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;!&#xD;router eigrp 7&#xD; network 10.2.0.0 0.0.255.255&#xD; redistribute connected&#xD; passive-interface default&#xD; no passive-interface GigabitEthernet0/1&#xD; no passive-interface GigabitEthernet0/2&#xD; eigrp router-id 10.2.255.1&#xD; eigrp stub connected&#xD;!&#xD;ip forward-protocol nd&#xD;!&#xD;!&#xD;no ip http server&#xD;no ip http secure-server&#xD;!&#xD;!&#xD;!&#xD;!&#xD;control-plane&#xD;!&#xD;banner exec `&#xD;**************************************************************************&#xD;* IOSv is strictly limited to use for evaluation, demonstration and IOS  *&#xD;* education. IOSv is provided as-is and is not supported by Cisco's      *&#xD;* Technical Advisory Center. Any use or disclosure, in whole or in part, *&#xD;* of the IOSv Software or Documentation to any third party for any       *&#xD;* purposes is expressly prohibited except as otherwise authorized by     *&#xD;* Cisco in writing.                                                      *&#xD;**************************************************************************`&#xD;banner incoming `&#xD;**************************************************************************&#xD;* IOSv is strictly limited to use for evaluation, demonstration and IOS  *&#xD;* education. IOSv is provided as-is and is not supported by Cisco's      *&#xD;* Technical Advisory Center. Any use or disclosure, in whole or in part, *&#xD;* of the IOSv Software or Documentation to any third party for any       *&#xD;* purposes is expressly prohibited except as otherwise authorized by     *&#xD;* Cisco in writing.                                                      *&#xD;**************************************************************************`&#xD;banner login `&#xD;**************************************************************************&#xD;* IOSv is strictly limited to use for evaluation, demonstration and IOS  *&#xD;* education. IOSv is provided as-is and is not supported by Cisco's      *&#xD;* Technical Advisory Center. Any use or disclosure, in whole or in part, *&#xD;* of the IOSv Software or Documentation to any third party for any       *&#xD;* purposes is expressly prohibited except as otherwise authorized by     *&#xD;* Cisco in writing.                                                      *&#xD;**************************************************************************`&#xD;!&#xD;line con 0&#xD;line aux 0&#xD;line vty 0 4&#xD; login&#xD; transport input none&#xD;!&#xD;no scheduler allocate&#xD;!&#xD;end</entry>
        </extensions>
        <interface name="GigabitEthernet0/1" id="0"/>
        <interface name="GigabitEthernet0/2" id="1"/>
    </node>
    <node location="801,454" subtype="IOSv" type="SIMPLE" name="site-3">
        <extensions>
            <entry type="string" key="AutoNetkit.mgmt_ip"></entry>
            <entry type="Boolean" key="Auto-generate config">false</entry>
            <entry type="String" key="config">!&#xD;! Last configuration change at 15:52:44 UTC Wed Jul 1 2015&#xD;!&#xD;version 15.5&#xD;service timestamps debug datetime msec&#xD;service timestamps log datetime msec&#xD;no service password-encryption&#xD;!&#xD;hostname site-3&#xD;!&#xD;boot-start-marker&#xD;boot-end-marker&#xD;!&#xD;!&#xD;!&#xD;no aaa new-model&#xD;ethernet lmi ce&#xD;!&#xD;!&#xD;!&#xD;bsd-client server url https://cloudsso.cisco.com/as/token.oauth2&#xD;mmi polling-interval 60&#xD;no mmi auto-configure&#xD;no mmi pvc&#xD;mmi snmp-timeout 180&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;ip cef&#xD;no ipv6 cef&#xD;!&#xD;multilink bundle-name authenticated&#xD;!&#xD;!&#xD;cts logging verbose&#xD;!&#xD;!&#xD;!&#xD;redundancy&#xD;!&#xD;!&#xD;! &#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;interface Loopback0&#xD; ip address 10.3.255.1 255.255.255.255&#xD;!&#xD;interface Loopback50&#xD; ip address 10.3.0.1 255.255.255.0&#xD;!&#xD;interface Loopback51&#xD; ip address 10.3.1.1 255.255.255.0&#xD;!&#xD;interface Loopback52&#xD; ip address 10.3.2.1 255.255.255.0&#xD;!&#xD;interface Loopback53&#xD; ip address 10.3.128.1 255.255.255.0&#xD;!&#xD;interface Loopback54&#xD; ip address 10.3.129.1 255.255.255.0&#xD;!&#xD;interface Loopback55&#xD; ip address 10.3.130.1 255.255.255.0&#xD;!&#xD;interface GigabitEthernet0/0&#xD; ip address 10.255.0.39 255.255.0.0&#xD; shutdown&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;interface GigabitEthernet0/1&#xD; ip address 10.3.254.2 255.255.255.252&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;interface GigabitEthernet0/2&#xD; ip address 10.3.254.6 255.255.255.252&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;!&#xD;router eigrp 7&#xD; network 10.3.0.0 0.0.255.255&#xD; redistribute connected&#xD; passive-interface default&#xD; no passive-interface GigabitEthernet0/1&#xD; no passive-interface GigabitEthernet0/2&#xD; eigrp router-id 10.3.255.1&#xD; eigrp stub connected&#xD;!&#xD;ip forward-protocol nd&#xD;!&#xD;!&#xD;no ip http server&#xD;no ip http secure-server&#xD;!&#xD;!&#xD;!&#xD;!&#xD;control-plane&#xD;!&#xD;banner exec `&#xD;**************************************************************************&#xD;* IOSv is strictly limited to use for evaluation, demonstration and IOS  *&#xD;* education. IOSv is provided as-is and is not supported by Cisco's      *&#xD;* Technical Advisory Center. Any use or disclosure, in whole or in part, *&#xD;* of the IOSv Software or Documentation to any third party for any       *&#xD;* purposes is expressly prohibited except as otherwise authorized by     *&#xD;* Cisco in writing.                                                      *&#xD;**************************************************************************`&#xD;banner incoming `&#xD;**************************************************************************&#xD;* IOSv is strictly limited to use for evaluation, demonstration and IOS  *&#xD;* education. IOSv is provided as-is and is not supported by Cisco's      *&#xD;* Technical Advisory Center. Any use or disclosure, in whole or in part, *&#xD;* of the IOSv Software or Documentation to any third party for any       *&#xD;* purposes is expressly prohibited except as otherwise authorized by     *&#xD;* Cisco in writing.                                                      *&#xD;**************************************************************************`&#xD;banner login `&#xD;**************************************************************************&#xD;* IOSv is strictly limited to use for evaluation, demonstration and IOS  *&#xD;* education. IOSv is provided as-is and is not supported by Cisco's      *&#xD;* Technical Advisory Center. Any use or disclosure, in whole or in part, *&#xD;* of the IOSv Software or Documentation to any third party for any       *&#xD;* purposes is expressly prohibited except as otherwise authorized by     *&#xD;* Cisco in writing.                                                      *&#xD;**************************************************************************`&#xD;!&#xD;line con 0&#xD;line aux 0&#xD;line vty 0 4&#xD; login&#xD; transport input none&#xD;!&#xD;no scheduler allocate&#xD;!&#xD;end</entry>
        </extensions>
        <interface name="GigabitEthernet0/1" id="0"/>
        <interface name="GigabitEthernet0/2" id="1"/>
    </node>
    <node location="481,-53" subtype="IOSv" type="SIMPLE" name="hub-site">
        <extensions>
            <entry type="string" key="AutoNetkit.mgmt_ip"></entry>
            <entry type="Boolean" key="Auto-generate config">false</entry>
            <entry type="String" key="config">!&#xD;! Last configuration change at 15:43:20 UTC Wed Jul 1 2015&#xD;!&#xD;version 15.5&#xD;service timestamps debug datetime msec&#xD;service timestamps log datetime msec&#xD;no service password-encryption&#xD;!&#xD;hostname hub-site&#xD;!&#xD;boot-start-marker&#xD;boot-end-marker&#xD;!&#xD;!&#xD;!&#xD;no aaa new-model&#xD;ethernet lmi ce&#xD;!&#xD;!&#xD;!&#xD;bsd-client server url https://cloudsso.cisco.com/as/token.oauth2&#xD;mmi polling-interval 60&#xD;no mmi auto-configure&#xD;no mmi pvc&#xD;mmi snmp-timeout 180&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;ip cef&#xD;no ipv6 cef&#xD;!&#xD;multilink bundle-name authenticated&#xD;!&#xD;!&#xD;cts logging verbose&#xD;!&#xD;!&#xD;!&#xD;redundancy&#xD;!&#xD;!&#xD;! &#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;interface Loopback0&#xD; ip address 10.0.255.1 255.255.255.255&#xD;!&#xD;interface Loopback50&#xD; ip address 10.0.0.1 255.255.255.0&#xD;!&#xD;interface Loopback51&#xD; ip address 10.0.1.1 255.255.255.0&#xD;!&#xD;interface Loopback52&#xD; ip address 10.0.2.1 255.255.255.0&#xD;!&#xD;interface Loopback53&#xD; ip address 10.0.128.1 255.255.255.0&#xD;!&#xD;interface Loopback54&#xD; ip address 10.0.129.1 255.255.255.0&#xD;!&#xD;interface Loopback55&#xD; ip address 10.0.130.1 255.255.255.0&#xD;!&#xD;interface GigabitEthernet0/0&#xD; ip address 10.255.0.9 255.255.0.0&#xD; shutdown&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;interface GigabitEthernet0/1&#xD; ip address 10.0.254.2 255.255.255.252&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;interface GigabitEthernet0/2&#xD; ip address 10.0.254.6 255.255.255.252&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;!&#xD;router eigrp 7&#xD; network 10.0.0.0 0.0.255.255&#xD; redistribute connected&#xD; passive-interface default&#xD; no passive-interface GigabitEthernet0/1&#xD; no passive-interface GigabitEthernet0/2&#xD; eigrp router-id 10.0.255.1&#xD; eigrp stub connected&#xD;!&#xD;ip forward-protocol nd&#xD;!&#xD;!&#xD;no ip http server&#xD;no ip http secure-server&#xD;!&#xD;!&#xD;!&#xD;!&#xD;control-plane&#xD;!&#xD;banner exec `&#xD;**************************************************************************&#xD;* IOSv is strictly limited to use for evaluation, demonstration and IOS  *&#xD;* education. IOSv is provided as-is and is not supported by Cisco's      *&#xD;* Technical Advisory Center. Any use or disclosure, in whole or in part, *&#xD;* of the IOSv Software or Documentation to any third party for any       *&#xD;* purposes is expressly prohibited except as otherwise authorized by     *&#xD;* Cisco in writing.                                                      *&#xD;**************************************************************************`&#xD;banner incoming `&#xD;**************************************************************************&#xD;* IOSv is strictly limited to use for evaluation, demonstration and IOS  *&#xD;* education. IOSv is provided as-is and is not supported by Cisco's      *&#xD;* Technical Advisory Center. Any use or disclosure, in whole or in part, *&#xD;* of the IOSv Software or Documentation to any third party for any       *&#xD;* purposes is expressly prohibited except as otherwise authorized by     *&#xD;* Cisco in writing.                                                      *&#xD;**************************************************************************`&#xD;banner login `&#xD;**************************************************************************&#xD;* IOSv is strictly limited to use for evaluation, demonstration and IOS  *&#xD;* education. IOSv is provided as-is and is not supported by Cisco's      *&#xD;* Technical Advisory Center. Any use or disclosure, in whole or in part, *&#xD;* of the IOSv Software or Documentation to any third party for any       *&#xD;* purposes is expressly prohibited except as otherwise authorized by     *&#xD;* Cisco in writing.                                                      *&#xD;**************************************************************************`&#xD;!&#xD;line con 0&#xD;line aux 0&#xD;line vty 0 4&#xD; login&#xD; transport input none&#xD;!&#xD;no scheduler allocate&#xD;!&#xD;end</entry>
        </extensions>
        <interface name="GigabitEthernet0/1" id="0"/>
        <interface name="GigabitEthernet0/2" id="1"/>
    </node>
    <node location="383,40" subtype="IOSv" type="SIMPLE" name="hub-1">
        <extensions>
            <entry type="Boolean" key="Auto-generate config">false</entry>
            <entry type="String" key="config">!&#xD;! Last configuration change at 15:44:08 UTC Wed Jul 1 2015&#xD;!&#xD;version 15.5&#xD;service timestamps debug datetime msec&#xD;service timestamps log datetime msec&#xD;no service password-encryption&#xD;!&#xD;hostname hub-1&#xD;!&#xD;boot-start-marker&#xD;boot-end-marker&#xD;!&#xD;!&#xD;!&#xD;no aaa new-model&#xD;ethernet lmi ce&#xD;!&#xD;!&#xD;!&#xD;bsd-client server url https://cloudsso.cisco.com/as/token.oauth2&#xD;mmi polling-interval 60&#xD;no mmi auto-configure&#xD;no mmi pvc&#xD;mmi snmp-timeout 180&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;ip vrf f-vrf&#xD; rd 65534:0&#xD;!&#xD;!&#xD;!&#xD;!&#xD;ip cef&#xD;no ipv6 cef&#xD;!&#xD;multilink bundle-name authenticated&#xD;!&#xD;!&#xD;cts logging verbose&#xD;!&#xD;!&#xD;!&#xD;redundancy&#xD;!&#xD;!&#xD;! &#xD;crypto keyring DMVPN_KEYRING vrf f-vrf &#xD;  pre-shared-key address 0.0.0.0 0.0.0.0 key CRYPTOKEY&#xD;!&#xD;!&#xD;!&#xD;!&#xD;crypto isakmp policy 10&#xD; encr aes 192&#xD; hash md5&#xD; authentication pre-share&#xD; group 2&#xD;crypto isakmp invalid-spi-recovery&#xD;crypto isakmp keepalive 10 periodic&#xD;!&#xD;crypto ipsec security-association replay window-size 1024&#xD;!&#xD;crypto ipsec transform-set DMVPN_TRANS_SET esp-aes 192 esp-md5-hmac &#xD; mode tunnel&#xD;!&#xD;crypto ipsec profile DMVPN_PROFILE&#xD; set security-association lifetime seconds 120&#xD; set transform-set DMVPN_TRANS_SET &#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;interface Loopback0&#xD; ip address 10.152.255.1 255.255.255.255&#xD;!&#xD;interface Loopback20&#xD; description DMVPN TUNNEL SOURCE&#xD; ip vrf forwarding f-vrf&#xD; ip address 172.16.255.1 255.255.255.255&#xD;!&#xD;interface Tunnel100&#xD; description ## DMVPN HUB 1 ##&#xD; ip address 10.152.0.1 255.255.255.0&#xD; no ip redirects&#xD; ip mtu 1400&#xD; ip nhrp authentication NHRPKEY&#xD; ip nhrp map multicast dynamic&#xD; ip nhrp network-id 100&#xD; ip nhrp registration timeout 120&#xD; ip nhrp redirect&#xD; ip tcp adjust-mss 1360&#xD; load-interval 30&#xD; if-state nhrp&#xD; qos pre-classify&#xD; tunnel source Loopback20&#xD; tunnel mode gre multipoint&#xD; tunnel key 0&#xD; tunnel path-mtu-discovery&#xD; tunnel vrf f-vrf&#xD; tunnel protection ipsec profile DMVPN_PROFILE&#xD;!&#xD;interface GigabitEthernet0/0&#xD; ip address 10.255.0.1 255.255.0.0&#xD; shutdown&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;interface GigabitEthernet0/1&#xD; ip vrf forwarding f-vrf&#xD; ip address 172.16.0.2 255.255.255.252&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;interface GigabitEthernet0/2&#xD; ip address 10.0.254.1 255.255.255.252&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;!&#xD;router eigrp 7&#xD; network 10.0.0.0 0.0.255.255&#xD; redistribute connected&#xD; redistribute bgp 65000 metric 10000 1000 255 1 1500 route-map bgp-to-eigrp&#xD; distance eigrp 19 170&#xD; passive-interface default&#xD; no passive-interface GigabitEthernet0/2&#xD; eigrp router-id 10.152.255.1&#xD;!&#xD;router bgp 65000&#xD; template peer-policy DMVPN-PRI&#xD;  route-map DMVPN-PRI-IN in&#xD;  inherit peer-policy DMVPN 1&#xD; exit-peer-policy&#xD; !&#xD; template peer-policy DMVPN-TER&#xD;  route-map DMVPN-TER-IN in&#xD;  inherit peer-policy DMVPN 1&#xD; exit-peer-policy&#xD; !&#xD; template peer-policy DMVPN&#xD;  route-map DMVPN-PRI-OUT out&#xD;  next-hop-self&#xD;  soft-reconfiguration inbound&#xD; exit-peer-policy&#xD; !&#xD; bgp router-id 10.152.255.1&#xD; bgp log-neighbor-changes&#xD; aggregate-address 10.3.0.0 255.255.0.0&#xD; aggregate-address 10.2.0.0 255.255.0.0&#xD; aggregate-address 10.1.0.0 255.255.0.0&#xD; timers bgp 5 15&#xD; redistribute connected&#xD; redistribute eigrp 7 route-map eigrp-to-bgp&#xD; neighbor 10.152.0.11 remote-as 65001&#xD; neighbor 10.152.0.11 inherit peer-policy DMVPN-PRI&#xD; neighbor 10.152.0.12 remote-as 65001&#xD; neighbor 10.152.0.12 inherit peer-policy DMVPN-TER&#xD; neighbor 10.152.0.21 remote-as 65002&#xD; neighbor 10.152.0.21 inherit peer-policy DMVPN-PRI&#xD; neighbor 10.152.0.22 remote-as 65002&#xD; neighbor 10.152.0.22 inherit peer-policy DMVPN-TER&#xD; neighbor 10.152.0.31 remote-as 65003&#xD; neighbor 10.152.0.31 inherit peer-policy DMVPN-PRI&#xD; neighbor 10.152.0.32 remote-as 65003&#xD; neighbor 10.152.0.32 inherit peer-policy DMVPN-TER&#xD; !&#xD; address-family ipv4 vrf f-vrf&#xD;  redistribute connected&#xD;  neighbor 172.16.0.1 remote-as 65534&#xD;  neighbor 172.16.0.1 local-as 65534&#xD;  neighbor 172.16.0.1 update-source GigabitEthernet0/1&#xD;  neighbor 172.16.0.1 activate&#xD; exit-address-family&#xD;!&#xD;ip forward-protocol nd&#xD;!&#xD;!&#xD;no ip http server&#xD;no ip http secure-server&#xD;!&#xD;!&#xD;ip prefix-list HUB seq 10 permit 10.152.255.1/32&#xD;ip prefix-list HUB seq 15 permit 10.152.255.2/32&#xD;ip prefix-list HUB seq 20 permit 10.0.0.0/16 le 32&#xD;ip prefix-list HUB seq 100 deny 0.0.0.0/0 le 32&#xD;!&#xD;ip prefix-list SITE-1-DR seq 10 permit 10.152.255.12/32&#xD;ip prefix-list SITE-1-DR seq 20 permit 10.1.128.0/17 le 32&#xD;ip prefix-list SITE-1-DR seq 100 deny 0.0.0.0/0 le 32&#xD;!&#xD;ip prefix-list SITE-1-MAIN seq 10 permit 10.152.255.11/32&#xD;ip prefix-list SITE-1-MAIN seq 20 permit 10.1.0.0/17 le 32&#xD;ip prefix-list SITE-1-MAIN seq 100 deny 0.0.0.0/0 le 32&#xD;!&#xD;ip prefix-list SITE-2-DR seq 10 permit 10.152.255.22/32&#xD;ip prefix-list SITE-2-DR seq 20 permit 10.2.128.0/17 le 32&#xD;ip prefix-list SITE-2-DR seq 100 deny 0.0.0.0/0 le 32&#xD;!&#xD;ip prefix-list SITE-2-MAIN seq 10 permit 10.152.255.21/32&#xD;ip prefix-list SITE-2-MAIN seq 20 permit 10.2.0.0/17 le 32&#xD;ip prefix-list SITE-2-MAIN seq 100 deny 0.0.0.0/0 le 32&#xD;!&#xD;ip prefix-list SITE-3-DR seq 10 permit 10.152.255.32/32&#xD;ip prefix-list SITE-3-DR seq 20 permit 10.3.128.0/17 le 32&#xD;ip prefix-list SITE-3-DR seq 100 deny 0.0.0.0/0 le 32&#xD;!&#xD;ip prefix-list SITE-3-MAIN seq 10 permit 10.152.255.31/32&#xD;ip prefix-list SITE-3-MAIN seq 20 permit 10.3.0.0/17 le 32&#xD;ip prefix-list SITE-3-MAIN seq 100 deny 0.0.0.0/0 le 32&#xD;!&#xD;ip prefix-list SUMMARIES seq 10 permit 10.1.0.0/16&#xD;ip prefix-list SUMMARIES seq 15 deny 10.1.0.0/16 le 32&#xD;ip prefix-list SUMMARIES seq 20 permit 10.2.0.0/16&#xD;ip prefix-list SUMMARIES seq 25 deny 10.2.0.0/16 le 32&#xD;ip prefix-list SUMMARIES seq 30 permit 10.3.0.0/16&#xD;ip prefix-list SUMMARIES seq 35 deny 10.3.0.0/16 le 32&#xD;ip prefix-list SUMMARIES seq 100 permit 0.0.0.0/0 le 32&#xD;!&#xD;route-map DMVPN-TER-IN deny 10&#xD; match ip address prefix-list HUB&#xD;!&#xD;route-map DMVPN-TER-IN permit 20&#xD; match ip address prefix-list SITE-1-MAIN SITE-2-MAIN SITE-3-MAIN&#xD; set local-preference 7500&#xD; set weight 0&#xD; set as-path prepend 65010 65010 65010&#xD;!&#xD;route-map DMVPN-TER-IN permit 30&#xD; match ip address prefix-list SITE-1-DR SITE-2-DR SITE-3-DR&#xD; set local-preference 20000&#xD; set weight 0&#xD; set as-path prepend 65010&#xD;!&#xD;route-map DMVPN-TER-IN deny 100&#xD;!&#xD;route-map bgp-to-eigrp permit 10&#xD; set tag 100&#xD;!&#xD;route-map bgp-to-eigrp deny 100&#xD;!&#xD;route-map eigrp-to-bgp deny 10&#xD; match tag 100&#xD;!&#xD;route-map eigrp-to-bgp permit 100&#xD;!&#xD;route-map DMVPN-PRI-IN deny 10&#xD; match ip address prefix-list HUB&#xD;!&#xD;route-map DMVPN-PRI-IN permit 20&#xD; match ip address prefix-list SITE-1-MAIN SITE-2-MAIN SITE-3-MAIN&#xD; set local-preference 20000&#xD; set weight 0&#xD; set as-path prepend 65010&#xD;!&#xD;route-map DMVPN-PRI-IN permit 30&#xD; match ip address prefix-list SITE-1-DR SITE-2-DR SITE-3-DR&#xD; set local-preference 7500&#xD; set weight 0&#xD; set as-path prepend 65010 65010 65010&#xD;!&#xD;route-map DMVPN-PRI-IN deny 100&#xD;!&#xD;route-map DMVPN-PRI-OUT permit 10&#xD; match ip address prefix-list SUMMARIES&#xD; set local-preference 20000&#xD; set as-path prepend 65010&#xD;!&#xD;route-map DMVPN-PRI-OUT deny 100&#xD;!&#xD;!&#xD;!&#xD;control-plane&#xD;!&#xD;banner exec `&#xD;**************************************************************************&#xD;* IOSv is strictly limited to use for evaluation, demonstration and IOS  *&#xD;* education. IOSv is provided as-is and is not supported by Cisco's      *&#xD;* Technical Advisory Center. Any use or disclosure, in whole or in part, *&#xD;* of the IOSv Software or Documentation to any third party for any       *&#xD;* purposes is expressly prohibited except as otherwise authorized by     *&#xD;* Cisco in writing.                                                      *&#xD;**************************************************************************`&#xD;banner incoming `&#xD;**************************************************************************&#xD;* IOSv is strictly limited to use for evaluation, demonstration and IOS  *&#xD;* education. IOSv is provided as-is and is not supported by Cisco's      *&#xD;* Technical Advisory Center. Any use or disclosure, in whole or in part, *&#xD;* of the IOSv Software or Documentation to any third party for any       *&#xD;* purposes is expressly prohibited except as otherwise authorized by     *&#xD;* Cisco in writing.                                                      *&#xD;**************************************************************************`&#xD;banner login `&#xD;**************************************************************************&#xD;* IOSv is strictly limited to use for evaluation, demonstration and IOS  *&#xD;* education. IOSv is provided as-is and is not supported by Cisco's      *&#xD;* Technical Advisory Center. Any use or disclosure, in whole or in part, *&#xD;* of the IOSv Software or Documentation to any third party for any       *&#xD;* purposes is expressly prohibited except as otherwise authorized by     *&#xD;* Cisco in writing.                                                      *&#xD;**************************************************************************`&#xD;!&#xD;line con 0&#xD;line aux 0&#xD;line vty 0 4&#xD; login&#xD; transport input none&#xD;!&#xD;no scheduler allocate&#xD;!&#xD;end</entry>
        </extensions>
        <interface name="GigabitEthernet0/1" id="0"/>
        <interface name="GigabitEthernet0/2" id="1"/>
    </node>
    <node location="597,45" subtype="IOSv" type="SIMPLE" name="hub-2">
        <extensions>
            <entry type="Boolean" key="Auto-generate config">false</entry>
            <entry type="String" key="config">!&#xD;! Last configuration change at 15:40:53 UTC Wed Jul 1 2015&#xD;!&#xD;version 15.5&#xD;service timestamps debug datetime msec&#xD;service timestamps log datetime msec&#xD;no service password-encryption&#xD;!&#xD;hostname hub-2&#xD;!&#xD;boot-start-marker&#xD;boot-end-marker&#xD;!&#xD;!&#xD;!&#xD;no aaa new-model&#xD;ethernet lmi ce&#xD;!&#xD;!&#xD;!&#xD;bsd-client server url https://cloudsso.cisco.com/as/token.oauth2&#xD;mmi polling-interval 60&#xD;no mmi auto-configure&#xD;no mmi pvc&#xD;mmi snmp-timeout 180&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;ip vrf f-vrf&#xD; rd 65534:0&#xD;!&#xD;!&#xD;!&#xD;!&#xD;ip cef&#xD;no ipv6 cef&#xD;!&#xD;multilink bundle-name authenticated&#xD;!&#xD;!&#xD;cts logging verbose&#xD;!&#xD;!&#xD;!&#xD;redundancy&#xD;!&#xD;!&#xD;! &#xD;crypto keyring DMVPN_KEYRING vrf f-vrf &#xD;  pre-shared-key address 0.0.0.0 0.0.0.0 key CRYPTOKEY&#xD;!&#xD;!&#xD;!&#xD;!&#xD;crypto isakmp policy 10&#xD; encr aes 192&#xD; hash md5&#xD; authentication pre-share&#xD; group 2&#xD;crypto isakmp invalid-spi-recovery&#xD;crypto isakmp keepalive 10 periodic&#xD;!&#xD;crypto ipsec security-association replay window-size 1024&#xD;!&#xD;crypto ipsec transform-set DMVPN_TRANS_SET esp-aes 192 esp-md5-hmac &#xD; mode tunnel&#xD;!&#xD;crypto ipsec profile DMVPN_PROFILE&#xD; set security-association lifetime seconds 120&#xD; set transform-set DMVPN_TRANS_SET &#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;interface Loopback0&#xD; ip address 10.152.255.2 255.255.255.255&#xD;!&#xD;interface Loopback20&#xD; description DMVPN TUNNEL SOURCE&#xD; ip vrf forwarding f-vrf&#xD; ip address 172.16.255.2 255.255.255.255&#xD;!&#xD;interface Tunnel100&#xD; description ## DMVPN HUB 1 ##&#xD; ip address 10.152.0.2 255.255.255.0&#xD; no ip redirects&#xD; ip mtu 1400&#xD; ip nhrp authentication NHRPKEY&#xD; ip nhrp map multicast dynamic&#xD; ip nhrp network-id 100&#xD; ip nhrp registration timeout 120&#xD; ip nhrp redirect&#xD; ip tcp adjust-mss 1360&#xD; load-interval 30&#xD; if-state nhrp&#xD; qos pre-classify&#xD; tunnel source Loopback20&#xD; tunnel mode gre multipoint&#xD; tunnel key 0&#xD; tunnel path-mtu-discovery&#xD; tunnel vrf f-vrf&#xD; tunnel protection ipsec profile DMVPN_PROFILE&#xD;!&#xD;interface GigabitEthernet0/0&#xD; ip address 10.255.0.2 255.255.0.0&#xD; shutdown&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;interface GigabitEthernet0/1&#xD; ip vrf forwarding f-vrf&#xD; ip address 172.16.0.6 255.255.255.252&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;interface GigabitEthernet0/2&#xD; ip address 10.0.254.5 255.255.255.252&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;!&#xD;router eigrp 7&#xD; network 10.0.0.0 0.0.255.255&#xD; redistribute connected&#xD; redistribute bgp 65000 metric 10000 50000 255 1 1500 route-map bgp-to-eigrp&#xD; distance eigrp 19 170&#xD; passive-interface default&#xD; no passive-interface GigabitEthernet0/2&#xD; eigrp router-id 10.152.255.2&#xD;!&#xD;router bgp 65000&#xD; template peer-policy DMVPN-SEC&#xD;  route-map DMVPN-SEC-IN in&#xD;  inherit peer-policy DMVPN 1&#xD; exit-peer-policy&#xD; !&#xD; template peer-policy DMVPN-QUA&#xD;  route-map DMVPN-QUA-IN in&#xD;  inherit peer-policy DMVPN 1&#xD; exit-peer-policy&#xD;!&#xD; template peer-policy DMVPN&#xD;  route-map DMVPN-SEC-OUT out&#xD;  next-hop-self&#xD;  soft-reconfiguration inbound&#xD; exit-peer-policy&#xD; !&#xD; bgp router-id 10.152.255.2&#xD; bgp log-neighbor-changes&#xD; aggregate-address 10.3.0.0 255.255.0.0&#xD; aggregate-address 10.2.0.0 255.255.0.0&#xD; aggregate-address 10.1.0.0 255.255.0.0&#xD; timers bgp 5 15&#xD; redistribute connected&#xD; redistribute eigrp 7 route-map eigrp-to-bgp&#xD; neighbor 10.152.0.11 remote-as 65001&#xD; neighbor 10.152.0.11 inherit peer-policy DMVPN-SEC&#xD; neighbor 10.152.0.12 remote-as 65001&#xD; neighbor 10.152.0.12 inherit peer-policy DMVPN-QUA&#xD; neighbor 10.152.0.21 remote-as 65002&#xD; neighbor 10.152.0.21 inherit peer-policy DMVPN-SEC&#xD; neighbor 10.152.0.22 remote-as 65002&#xD; neighbor 10.152.0.22 inherit peer-policy DMVPN-QUA&#xD; neighbor 10.152.0.31 remote-as 65003&#xD; neighbor 10.152.0.31 inherit peer-policy DMVPN-SEC&#xD; neighbor 10.152.0.32 remote-as 65003&#xD; neighbor 10.152.0.32 inherit peer-policy DMVPN-QUA&#xD; !&#xD; address-family ipv4 vrf f-vrf&#xD;  redistribute connected&#xD;  neighbor 172.16.0.5 remote-as 65534&#xD;  neighbor 172.16.0.5 local-as 65534&#xD;  neighbor 172.16.0.5 update-source GigabitEthernet0/1&#xD;  neighbor 172.16.0.5 activate&#xD; exit-address-family&#xD;!&#xD;ip forward-protocol nd&#xD;!&#xD;!&#xD;no ip http server&#xD;no ip http secure-server&#xD;!&#xD;!&#xD;ip prefix-list HUB seq 10 permit 10.152.255.1/32&#xD;ip prefix-list HUB seq 15 permit 10.152.255.2/32&#xD;ip prefix-list HUB seq 20 permit 10.0.0.0/16 le 32&#xD;ip prefix-list HUB seq 100 deny 0.0.0.0/0 le 32&#xD;!&#xD;ip prefix-list SITE-1-DR seq 10 permit 10.152.255.12/32&#xD;ip prefix-list SITE-1-DR seq 20 permit 10.1.128.0/17 le 32&#xD;ip prefix-list SITE-1-DR seq 100 deny 0.0.0.0/0 le 32&#xD;!&#xD;ip prefix-list SITE-1-MAIN seq 10 permit 10.152.255.11/32&#xD;ip prefix-list SITE-1-MAIN seq 20 permit 10.1.0.0/17 le 32&#xD;ip prefix-list SITE-1-MAIN seq 100 deny 0.0.0.0/0 le 32&#xD;!&#xD;ip prefix-list SITE-2-DR seq 10 permit 10.152.255.22/32&#xD;ip prefix-list SITE-2-DR seq 20 permit 10.2.128.0/17 le 32&#xD;ip prefix-list SITE-2-DR seq 100 deny 0.0.0.0/0 le 32&#xD;!&#xD;ip prefix-list SITE-2-MAIN seq 10 permit 10.152.255.21/32&#xD;ip prefix-list SITE-2-MAIN seq 20 permit 10.2.0.0/17 le 32&#xD;ip prefix-list SITE-2-MAIN seq 100 deny 0.0.0.0/0 le 32&#xD;!&#xD;ip prefix-list SITE-3-DR seq 10 permit 10.152.255.32/32&#xD;ip prefix-list SITE-3-DR seq 20 permit 10.3.128.0/17 le 32&#xD;ip prefix-list SITE-3-DR seq 100 deny 0.0.0.0/0 le 32&#xD;!&#xD;ip prefix-list SITE-3-MAIN seq 10 permit 10.152.255.31/32&#xD;ip prefix-list SITE-3-MAIN seq 20 permit 10.3.0.0/17 le 32&#xD;ip prefix-list SITE-3-MAIN seq 100 deny 0.0.0.0/0 le 32&#xD;!&#xD;ip prefix-list SUMMARIES seq 10 permit 10.1.0.0/16&#xD;ip prefix-list SUMMARIES seq 15 deny 10.1.0.0/16 le 32&#xD;ip prefix-list SUMMARIES seq 20 permit 10.2.0.0/16&#xD;ip prefix-list SUMMARIES seq 25 deny 10.2.0.0/16 le 32&#xD;ip prefix-list SUMMARIES seq 30 permit 10.3.0.0/16&#xD;ip prefix-list SUMMARIES seq 35 deny 10.3.0.0/16 le 32&#xD;ip prefix-list SUMMARIES seq 100 permit 0.0.0.0/0 le 32&#xD;!&#xD;route-map DMVPN-QUA-IN permit 10&#xD; match ip address prefix-list HUB&#xD;!&#xD;route-map DMVPN-QUA-IN permit 20&#xD; match ip address prefix-list HUB SITE-1-MAIN SITE-2-MAIN SITE-3-MAIN&#xD; set local-preference 500&#xD; set weight 0&#xD; set as-path prepend 65010 65010 65010 65010&#xD;!&#xD;route-map DMVPN-QUA-IN permit 30&#xD; match ip address prefix-list SITE-1-DR SITE-2-DR SITE-3-DR&#xD; set local-preference 10000&#xD; set weight 0&#xD; set as-path prepend 65010 65010&#xD;!&#xD;route-map DMVPN-QUA-IN deny 100&#xD;!&#xD;route-map bgp-to-eigrp permit 10&#xD; set tag 100&#xD;!&#xD;route-map bgp-to-eigrp deny 100&#xD;!&#xD;route-map eigrp-to-bgp deny 10&#xD; match tag 100&#xD;!&#xD;route-map eigrp-to-bgp permit 100&#xD;!&#xD;route-map DMVPN-SEC-IN deny 10&#xD; match ip address prefix-list HUB&#xD;!&#xD;route-map DMVPN-SEC-IN permit 20&#xD; match ip address prefix-list SITE-1-MAIN SITE-2-MAIN SITE-3-MAIN&#xD; set local-preference 10000&#xD; set weight 0&#xD; set as-path prepend 65010 65010&#xD;!&#xD;route-map DMVPN-SEC-IN permit 30&#xD; match ip address prefix-list SITE-1-DR SITE-2-DR SITE-3-DR&#xD; set local-preference 5000&#xD; set weight 0&#xD; set as-path prepend 65010 65010 65010 65010&#xD;!&#xD;route-map DMVPN-SEC-IN deny 100&#xD;!&#xD;route-map DMVPN-SEC-OUT permit 10&#xD; match ip address prefix-list SUMMARIES&#xD; set local-preference 10000&#xD; set as-path prepend 65010 65010&#xD;!&#xD;route-map DMVPN-SEC-OUT deny 100&#xD;!&#xD;!&#xD;!&#xD;control-plane&#xD;!&#xD;banner exec `&#xD;**************************************************************************&#xD;* IOSv is strictly limited to use for evaluation, demonstration and IOS  *&#xD;* education. IOSv is provided as-is and is not supported by Cisco's      *&#xD;* Technical Advisory Center. Any use or disclosure, in whole or in part, *&#xD;* of the IOSv Software or Documentation to any third party for any       *&#xD;* purposes is expressly prohibited except as otherwise authorized by     *&#xD;* Cisco in writing.                                                      *&#xD;**************************************************************************`&#xD;banner incoming `&#xD;**************************************************************************&#xD;* IOSv is strictly limited to use for evaluation, demonstration and IOS  *&#xD;* education. IOSv is provided as-is and is not supported by Cisco's      *&#xD;* Technical Advisory Center. Any use or disclosure, in whole or in part, *&#xD;* of the IOSv Software or Documentation to any third party for any       *&#xD;* purposes is expressly prohibited except as otherwise authorized by     *&#xD;* Cisco in writing.                                                      *&#xD;**************************************************************************`&#xD;banner login `&#xD;**************************************************************************&#xD;* IOSv is strictly limited to use for evaluation, demonstration and IOS  *&#xD;* education. IOSv is provided as-is and is not supported by Cisco's      *&#xD;* Technical Advisory Center. Any use or disclosure, in whole or in part, *&#xD;* of the IOSv Software or Documentation to any third party for any       *&#xD;* purposes is expressly prohibited except as otherwise authorized by     *&#xD;* Cisco in writing.                                                      *&#xD;**************************************************************************`&#xD;!&#xD;line con 0&#xD;line aux 0&#xD;line vty 0 4&#xD; login&#xD; transport input none&#xD;!&#xD;no scheduler allocate&#xD;!&#xD;end</entry>
        </extensions>
        <interface name="GigabitEthernet0/1" id="0"/>
        <interface name="GigabitEthernet0/2" id="1"/>
    </node>
    <node location="133,289" subtype="IOSv" type="SIMPLE" name="spoke-1">
        <extensions>
            <entry type="Boolean" key="Auto-generate config">false</entry>
            <entry type="String" key="config">!&#xD;! Last configuration change at 15:45:33 UTC Wed Jul 1 2015&#xD;!&#xD;version 15.5&#xD;service timestamps debug datetime msec&#xD;service timestamps log datetime msec&#xD;no service password-encryption&#xD;!&#xD;hostname spoke-1&#xD;!&#xD;boot-start-marker&#xD;boot-end-marker&#xD;!&#xD;!&#xD;!&#xD;no aaa new-model&#xD;ethernet lmi ce&#xD;!&#xD;!&#xD;!&#xD;bsd-client server url https://cloudsso.cisco.com/as/token.oauth2&#xD;mmi polling-interval 60&#xD;no mmi auto-configure&#xD;no mmi pvc&#xD;mmi snmp-timeout 180&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;ip vrf f-vrf&#xD; rd 65534:0&#xD;!&#xD;!&#xD;!&#xD;!&#xD;ip cef&#xD;no ipv6 cef&#xD;!&#xD;multilink bundle-name authenticated&#xD;!&#xD;!&#xD;cts logging verbose&#xD;!&#xD;!&#xD;!&#xD;redundancy&#xD;!&#xD;!&#xD;! &#xD;crypto keyring DMVPN_KEYRING vrf f-vrf &#xD;  pre-shared-key address 0.0.0.0 0.0.0.0 key CRYPTOKEY&#xD;!&#xD;!&#xD;!&#xD;!&#xD;crypto isakmp policy 10&#xD; encr aes 192&#xD; hash md5&#xD; authentication pre-share&#xD; group 2&#xD;crypto isakmp invalid-spi-recovery&#xD;crypto isakmp keepalive 10 periodic&#xD;!&#xD;crypto ipsec security-association replay window-size 1024&#xD;!&#xD;crypto ipsec transform-set DMVPN_TRANS_SET esp-aes 192 esp-md5-hmac &#xD; mode tunnel&#xD;!&#xD;crypto ipsec profile DMVPN_PROFILE&#xD; set security-association lifetime seconds 120&#xD; set transform-set DMVPN_TRANS_SET &#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;interface Loopback0&#xD; ip address 10.152.255.11 255.255.255.255&#xD;!&#xD;interface Loopback20&#xD; ip vrf forwarding f-vrf&#xD; ip address 172.16.255.11 255.255.255.255&#xD;!&#xD;interface Tunnel100&#xD; description ## DMVPN SPOKE ##&#xD; ip address 10.152.0.11 255.255.255.0&#xD; no ip redirects&#xD; ip mtu 1400&#xD; ip nhrp authentication NHRPKEY&#xD; ip nhrp map multicast dynamic&#xD; ip nhrp map 10.152.0.1 172.16.255.1&#xD; ip nhrp map multicast 172.16.255.1&#xD; ip nhrp map 10.152.0.2 172.16.255.2&#xD; ip nhrp map multicast 172.16.255.2&#xD; ip nhrp network-id 100&#xD; ip nhrp nhs 10.152.0.1&#xD; ip nhrp nhs 10.152.0.2&#xD; ip nhrp registration no-unique&#xD; ip nhrp registration timeout 120&#xD; ip nhrp shortcut&#xD; ip nhrp redirect&#xD; no ip split-horizon&#xD; ip tcp adjust-mss 1360&#xD; load-interval 30&#xD; if-state nhrp&#xD; qos pre-classify&#xD; tunnel source Loopback20&#xD; tunnel mode gre multipoint&#xD; tunnel key 0&#xD; tunnel path-mtu-discovery&#xD; tunnel vrf f-vrf&#xD; tunnel protection ipsec profile DMVPN_PROFILE&#xD;!&#xD;interface GigabitEthernet0/0&#xD; ip address 10.255.0.11 255.255.0.0&#xD; shutdown&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;interface GigabitEthernet0/1&#xD; ip vrf forwarding f-vrf&#xD; ip address 172.16.0.10 255.255.255.252&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;interface GigabitEthernet0/2&#xD; ip address 10.1.254.1 255.255.255.252&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;!&#xD;router eigrp 10&#xD; network 10.1.0.0 0.0.255.255&#xD; redistribute connected&#xD; redistribute bgp 65001 metric 10000 1000 255 1 1500 route-map bgp-to-eigrp&#xD; distance eigrp 19 170&#xD; passive-interface default&#xD; no passive-interface GigabitEthernet0/2&#xD; eigrp router-id 10.152.255.11&#xD;!&#xD;router bgp 65001&#xD; bgp router-id 10.152.255.11&#xD; bgp log-neighbor-changes&#xD; timers bgp 5 15&#xD; redistribute connected&#xD; redistribute eigrp 7 route-map eigrp-to-bgp&#xD; neighbor DMVPN-HUB peer-group&#xD; neighbor DMVPN-HUB remote-as 65000&#xD; neighbor DMVPN-HUB next-hop-self&#xD; neighbor DMVPN-HUB soft-reconfiguration inbound&#xD; neighbor DMVPN-HUB route-map DMVPN-IN in&#xD; neighbor DMVPN-HUB route-map DMVPN-OUT out&#xD; neighbor 10.152.0.1 peer-group DMVPN-HUB&#xD; neighbor 10.152.0.2 peer-group DMVPN-HUB&#xD; !&#xD; address-family ipv4 vrf f-vrf&#xD;  redistribute connected&#xD;  neighbor 172.16.0.9 remote-as 65534&#xD;  neighbor 172.16.0.9 local-as 65534&#xD;  neighbor 172.16.0.9 update-source GigabitEthernet0/1&#xD;  neighbor 172.16.0.9 activate&#xD; exit-address-family&#xD;!&#xD;ip forward-protocol nd&#xD;!&#xD;!&#xD;no ip http server&#xD;no ip http secure-server&#xD;!&#xD;!&#xD;ip prefix-list SITE-1-DR seq 10 permit 10.152.255.12/32&#xD;ip prefix-list SITE-1-DR seq 20 permit 10.1.128.0/17 le 32&#xD;ip prefix-list SITE-1-DR seq 100 deny 0.0.0.0/0 le 32&#xD;!&#xD;ip prefix-list SITE-1-MAIN seq 10 permit 10.152.255.11/32&#xD;ip prefix-list SITE-1-MAIN seq 20 permit 10.1.0.0/17 le 32&#xD;ip prefix-list SITE-1-MAIN seq 100 deny 0.0.0.0/0 le 32&#xD;!&#xD;route-map bgp-to-eigrp permit 10&#xD; set tag 100&#xD;!&#xD;route-map bgp-to-eigrp deny 100&#xD;!&#xD;route-map eigrp-to-bgp deny 10&#xD; match tag 100&#xD;!&#xD;route-map eigrp-to-bgp permit 20&#xD; match ip address prefix-list SITE-1-MAIN SITE-1-DR&#xD; set local-preference 40000&#xD; set weight 0&#xD;!&#xD;route-map eigrp-to-bgp deny 100&#xD;!&#xD;route-map DMVPN-OUT permit 10&#xD; match ip address prefix-list SITE-1-MAIN SITE-1-DR&#xD;!&#xD;route-map DMVPN-OUT deny 100&#xD;!&#xD;route-map DMVPN-IN deny 10&#xD; match ip address prefix-list SITE-1-MAIN SITE-1-DR&#xD;!&#xD;route-map DMVPN-IN permit 100&#xD;!&#xD;!&#xD;!&#xD;control-plane&#xD;!&#xD;banner exec `&#xD;**************************************************************************&#xD;* IOSv is strictly limited to use for evaluation, demonstration and IOS  *&#xD;* education. IOSv is provided as-is and is not supported by Cisco's      *&#xD;* Technical Advisory Center. Any use or disclosure, in whole or in part, *&#xD;* of the IOSv Software or Documentation to any third party for any       *&#xD;* purposes is expressly prohibited except as otherwise authorized by     *&#xD;* Cisco in writing.                                                      *&#xD;**************************************************************************`&#xD;banner incoming `&#xD;**************************************************************************&#xD;* IOSv is strictly limited to use for evaluation, demonstration and IOS  *&#xD;* education. IOSv is provided as-is and is not supported by Cisco's      *&#xD;* Technical Advisory Center. Any use or disclosure, in whole or in part, *&#xD;* of the IOSv Software or Documentation to any third party for any       *&#xD;* purposes is expressly prohibited except as otherwise authorized by     *&#xD;* Cisco in writing.                                                      *&#xD;**************************************************************************`&#xD;banner login `&#xD;**************************************************************************&#xD;* IOSv is strictly limited to use for evaluation, demonstration and IOS  *&#xD;* education. IOSv is provided as-is and is not supported by Cisco's      *&#xD;* Technical Advisory Center. Any use or disclosure, in whole or in part, *&#xD;* of the IOSv Software or Documentation to any third party for any       *&#xD;* purposes is expressly prohibited except as otherwise authorized by     *&#xD;* Cisco in writing.                                                      *&#xD;**************************************************************************`&#xD;!&#xD;line con 0&#xD;line aux 0&#xD;line vty 0 4&#xD; login&#xD; transport input none&#xD;!&#xD;no scheduler allocate&#xD;!&#xD;end</entry>
        </extensions>
        <interface name="GigabitEthernet0/1" id="0"/>
        <interface name="GigabitEthernet0/2" id="1"/>
    </node>
    <node location="231,340" subtype="IOSv" type="SIMPLE" name="spoke-2">
        <extensions>
            <entry type="Boolean" key="Auto-generate config">false</entry>
            <entry type="String" key="config">!&#xD;! Last configuration change at 15:42:28 UTC Wed Jul 1 2015&#xD;!&#xD;version 15.5&#xD;service timestamps debug datetime msec&#xD;service timestamps log datetime msec&#xD;no service password-encryption&#xD;!&#xD;hostname spoke-2&#xD;!&#xD;boot-start-marker&#xD;boot-end-marker&#xD;!&#xD;!&#xD;!&#xD;no aaa new-model&#xD;ethernet lmi ce&#xD;!&#xD;!&#xD;!&#xD;bsd-client server url https://cloudsso.cisco.com/as/token.oauth2&#xD;mmi polling-interval 60&#xD;no mmi auto-configure&#xD;no mmi pvc&#xD;mmi snmp-timeout 180&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;ip vrf f-vrf&#xD; rd 65534:0&#xD;!&#xD;!&#xD;!&#xD;!&#xD;ip cef&#xD;no ipv6 cef&#xD;!&#xD;multilink bundle-name authenticated&#xD;!&#xD;!&#xD;cts logging verbose&#xD;!&#xD;!&#xD;!&#xD;redundancy&#xD;!&#xD;!&#xD;! &#xD;crypto keyring DMVPN_KEYRING vrf f-vrf &#xD;  pre-shared-key address 0.0.0.0 0.0.0.0 key CRYPTOKEY&#xD;!&#xD;!&#xD;!&#xD;!&#xD;crypto isakmp policy 10&#xD; encr aes 192&#xD; hash md5&#xD; authentication pre-share&#xD; group 2&#xD;crypto isakmp invalid-spi-recovery&#xD;crypto isakmp keepalive 10 periodic&#xD;!&#xD;crypto ipsec security-association replay window-size 1024&#xD;!&#xD;crypto ipsec transform-set DMVPN_TRANS_SET esp-aes 192 esp-md5-hmac &#xD; mode tunnel&#xD;!&#xD;crypto ipsec profile DMVPN_PROFILE&#xD; set security-association lifetime seconds 120&#xD; set transform-set DMVPN_TRANS_SET &#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;interface Loopback0&#xD; ip address 10.152.255.12 255.255.255.255&#xD;!&#xD;interface Loopback20&#xD; ip vrf forwarding f-vrf&#xD; ip address 172.16.255.12 255.255.255.255&#xD;!&#xD;interface Tunnel100&#xD; description ## DMVPN SPOKE ##&#xD; ip address 10.152.0.12 255.255.255.0&#xD; no ip redirects&#xD; ip mtu 1400&#xD; ip nhrp authentication NHRPKEY&#xD; ip nhrp map multicast dynamic&#xD; ip nhrp map 10.152.0.1 172.16.255.1&#xD; ip nhrp map multicast 172.16.255.1&#xD; ip nhrp map 10.152.0.2 172.16.255.2&#xD; ip nhrp map multicast 172.16.255.2&#xD; ip nhrp network-id 100&#xD; ip nhrp nhs 10.152.0.1&#xD; ip nhrp nhs 10.152.0.2&#xD; ip nhrp registration no-unique&#xD; ip nhrp registration timeout 120&#xD; ip nhrp shortcut&#xD; ip nhrp redirect&#xD; no ip split-horizon&#xD; ip tcp adjust-mss 1360&#xD; load-interval 30&#xD; if-state nhrp&#xD; qos pre-classify&#xD; tunnel source Loopback20&#xD; tunnel mode gre multipoint&#xD; tunnel key 0&#xD; tunnel path-mtu-discovery&#xD; tunnel vrf f-vrf&#xD; tunnel protection ipsec profile DMVPN_PROFILE&#xD;!&#xD;interface GigabitEthernet0/0&#xD; ip address 10.255.0.12 255.255.0.0&#xD; shutdown&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;interface GigabitEthernet0/1&#xD; ip vrf forwarding f-vrf&#xD; ip address 172.16.0.14 255.255.255.252&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;interface GigabitEthernet0/2&#xD; ip address 10.1.254.5 255.255.255.252&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;!&#xD;router eigrp 10&#xD; network 10.1.0.0 0.0.255.255&#xD; redistribute connected&#xD; redistribute bgp 65001 metric 10000 50000 255 1 1500 route-map bgp-to-eigrp&#xD; distance eigrp 19 170&#xD; passive-interface default&#xD; no passive-interface GigabitEthernet0/2&#xD; eigrp router-id 10.152.255.12&#xD;!&#xD;router bgp 65001&#xD; bgp router-id 10.152.255.12&#xD; bgp log-neighbor-changes&#xD; timers bgp 5 15&#xD; redistribute connected&#xD; redistribute eigrp 7 route-map eigrp-to-bgp&#xD; neighbor DMVPN-HUB peer-group&#xD; neighbor DMVPN-HUB remote-as 65000&#xD; neighbor DMVPN-HUB next-hop-self&#xD; neighbor DMVPN-HUB soft-reconfiguration inbound&#xD; neighbor DMVPN-HUB route-map DMVPN-IN in&#xD; neighbor DMVPN-HUB route-map DMVPN-OUT out&#xD; neighbor 10.152.0.1 peer-group DMVPN-HUB&#xD; neighbor 10.152.0.2 peer-group DMVPN-HUB&#xD; !&#xD; address-family ipv4 vrf f-vrf&#xD;  redistribute connected&#xD;  neighbor 172.16.0.13 remote-as 65534&#xD;  neighbor 172.16.0.13 local-as 65534&#xD;  neighbor 172.16.0.13 update-source GigabitEthernet0/1&#xD;  neighbor 172.16.0.13 activate&#xD; exit-address-family&#xD;!&#xD;ip forward-protocol nd&#xD;!&#xD;!&#xD;no ip http server&#xD;no ip http secure-server&#xD;!&#xD;!&#xD;ip prefix-list SITE-1-DR seq 10 permit 10.152.255.12/32&#xD;ip prefix-list SITE-1-DR seq 20 permit 10.1.128.0/17 le 32&#xD;ip prefix-list SITE-1-DR seq 100 deny 0.0.0.0/0 le 32&#xD;!&#xD;ip prefix-list SITE-1-MAIN seq 10 permit 10.152.255.11/32&#xD;ip prefix-list SITE-1-MAIN seq 20 permit 10.1.0.0/17 le 32&#xD;ip prefix-list SITE-1-MAIN seq 100 deny 0.0.0.0/0 le 32&#xD;!&#xD;route-map bgp-to-eigrp permit 10&#xD; set tag 100&#xD;!&#xD;route-map bgp-to-eigrp deny 100&#xD;!&#xD;route-map eigrp-to-bgp deny 10&#xD; match tag 100&#xD;!&#xD;route-map eigrp-to-bgp permit 20&#xD; match ip address prefix-list SITE-1-MAIN SITE-1-DR&#xD; set local-preference 40000&#xD; set weight 0&#xD;!&#xD;route-map eigrp-to-bgp deny 100&#xD;!&#xD;route-map DMVPN-OUT permit 10&#xD; match ip address prefix-list SITE-1-MAIN SITE-1-DR&#xD;!&#xD;route-map DMVPN-OUT deny 100&#xD;!&#xD;route-map DMVPN-IN deny 10&#xD; match ip address prefix-list SITE-1-MAIN SITE-1-DR&#xD;!&#xD;route-map DMVPN-IN permit 100&#xD;!&#xD;!&#xD;!&#xD;control-plane&#xD;!&#xD;banner exec `&#xD;**************************************************************************&#xD;* IOSv is strictly limited to use for evaluation, demonstration and IOS  *&#xD;* education. IOSv is provided as-is and is not supported by Cisco's      *&#xD;* Technical Advisory Center. Any use or disclosure, in whole or in part, *&#xD;* of the IOSv Software or Documentation to any third party for any       *&#xD;* purposes is expressly prohibited except as otherwise authorized by     *&#xD;* Cisco in writing.                                                      *&#xD;**************************************************************************`&#xD;banner incoming `&#xD;**************************************************************************&#xD;* IOSv is strictly limited to use for evaluation, demonstration and IOS  *&#xD;* education. IOSv is provided as-is and is not supported by Cisco's      *&#xD;* Technical Advisory Center. Any use or disclosure, in whole or in part, *&#xD;* of the IOSv Software or Documentation to any third party for any       *&#xD;* purposes is expressly prohibited except as otherwise authorized by     *&#xD;* Cisco in writing.                                                      *&#xD;**************************************************************************`&#xD;banner login `&#xD;**************************************************************************&#xD;* IOSv is strictly limited to use for evaluation, demonstration and IOS  *&#xD;* education. IOSv is provided as-is and is not supported by Cisco's      *&#xD;* Technical Advisory Center. Any use or disclosure, in whole or in part, *&#xD;* of the IOSv Software or Documentation to any third party for any       *&#xD;* purposes is expressly prohibited except as otherwise authorized by     *&#xD;* Cisco in writing.                                                      *&#xD;**************************************************************************`&#xD;!&#xD;line con 0&#xD;line aux 0&#xD;line vty 0 4&#xD; login&#xD; transport input none&#xD;!&#xD;no scheduler allocate&#xD;!&#xD;end</entry>
        </extensions>
        <interface name="GigabitEthernet0/1" id="0"/>
        <interface name="GigabitEthernet0/2" id="1"/>
    </node>
    <node location="426,336" subtype="IOSv" type="SIMPLE" name="spoke-3">
        <extensions>
            <entry type="Boolean" key="Auto-generate config">false</entry>
            <entry type="String" key="config">!&#xD;! Last configuration change at 15:43:06 UTC Wed Jul 1 2015&#xD;!&#xD;version 15.5&#xD;service timestamps debug datetime msec&#xD;service timestamps log datetime msec&#xD;no service password-encryption&#xD;!&#xD;hostname spoke-3&#xD;!&#xD;boot-start-marker&#xD;boot-end-marker&#xD;!&#xD;!&#xD;!&#xD;no aaa new-model&#xD;ethernet lmi ce&#xD;!&#xD;!&#xD;!&#xD;bsd-client server url https://cloudsso.cisco.com/as/token.oauth2&#xD;mmi polling-interval 60&#xD;no mmi auto-configure&#xD;no mmi pvc&#xD;mmi snmp-timeout 180&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;ip vrf f-vrf&#xD; rd 65534:0&#xD;!&#xD;!&#xD;!&#xD;!&#xD;ip cef&#xD;no ipv6 cef&#xD;!&#xD;multilink bundle-name authenticated&#xD;!&#xD;!&#xD;cts logging verbose&#xD;!&#xD;!&#xD;!&#xD;redundancy&#xD;!&#xD;!&#xD;! &#xD;crypto keyring DMVPN_KEYRING vrf f-vrf &#xD;  pre-shared-key address 0.0.0.0 0.0.0.0 key CRYPTOKEY&#xD;!&#xD;!&#xD;!&#xD;!&#xD;crypto isakmp policy 10&#xD; encr aes 192&#xD; hash md5&#xD; authentication pre-share&#xD; group 2&#xD;crypto isakmp invalid-spi-recovery&#xD;crypto isakmp keepalive 10 periodic&#xD;!&#xD;crypto ipsec security-association replay window-size 1024&#xD;!&#xD;crypto ipsec transform-set DMVPN_TRANS_SET esp-aes 192 esp-md5-hmac &#xD; mode tunnel&#xD;!&#xD;crypto ipsec profile DMVPN_PROFILE&#xD; set security-association lifetime seconds 120&#xD; set transform-set DMVPN_TRANS_SET &#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;interface Loopback0&#xD; ip address 10.152.255.21 255.255.255.255&#xD;!&#xD;interface Loopback20&#xD; ip vrf forwarding f-vrf&#xD; ip address 172.16.255.21 255.255.255.255&#xD;!&#xD;interface Tunnel100&#xD; description ## DMVPN SPOKE ##&#xD; ip address 10.152.0.21 255.255.255.0&#xD; no ip redirects&#xD; ip mtu 1400&#xD; ip nhrp authentication NHRPKEY&#xD; ip nhrp map multicast dynamic&#xD; ip nhrp map 10.152.0.1 172.16.255.1&#xD; ip nhrp map multicast 172.16.255.1&#xD; ip nhrp map 10.152.0.2 172.16.255.2&#xD; ip nhrp map multicast 172.16.255.2&#xD; ip nhrp network-id 100&#xD; ip nhrp nhs 10.152.0.1&#xD; ip nhrp nhs 10.152.0.2&#xD; ip nhrp registration no-unique&#xD; ip nhrp registration timeout 120&#xD; ip nhrp shortcut&#xD; ip nhrp redirect&#xD; no ip split-horizon&#xD; ip tcp adjust-mss 1360&#xD; load-interval 30&#xD; if-state nhrp&#xD; qos pre-classify&#xD; tunnel source Loopback20&#xD; tunnel mode gre multipoint&#xD; tunnel key 0&#xD; tunnel path-mtu-discovery&#xD; tunnel vrf f-vrf&#xD; tunnel protection ipsec profile DMVPN_PROFILE&#xD;!&#xD;interface GigabitEthernet0/0&#xD; ip address 10.255.0.21 255.255.0.0&#xD; shutdown&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;interface GigabitEthernet0/1&#xD; ip vrf forwarding f-vrf&#xD; ip address 172.16.0.18 255.255.255.252&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;interface GigabitEthernet0/2&#xD; ip address 10.2.254.1 255.255.255.252&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;!&#xD;router eigrp 10&#xD; network 10.2.0.0 0.0.255.255&#xD; redistribute connected&#xD; redistribute bgp 65002 metric 10000 1000 255 1 1500 route-map bgp-to-eigrp&#xD; distance eigrp 19 170&#xD; passive-interface default&#xD; no passive-interface GigabitEthernet0/2&#xD; eigrp router-id 10.152.255.21&#xD;!&#xD;router bgp 65002&#xD; bgp router-id 10.152.255.21&#xD; bgp log-neighbor-changes&#xD; timers bgp 5 15&#xD; redistribute connected&#xD; redistribute eigrp 7 route-map eigrp-to-bgp&#xD; neighbor DMVPN-HUB peer-group&#xD; neighbor DMVPN-HUB remote-as 65000&#xD; neighbor DMVPN-HUB next-hop-self&#xD; neighbor DMVPN-HUB soft-reconfiguration inbound&#xD; neighbor DMVPN-HUB route-map DMVPN-IN in&#xD; neighbor DMVPN-HUB route-map DMVPN-OUT out&#xD; neighbor 10.152.0.1 peer-group DMVPN-HUB&#xD; neighbor 10.152.0.2 peer-group DMVPN-HUB&#xD; !&#xD; address-family ipv4 vrf f-vrf&#xD;  redistribute connected&#xD;  neighbor 172.16.0.17 remote-as 65534&#xD;  neighbor 172.16.0.17 local-as 65534&#xD;  neighbor 172.16.0.17 update-source GigabitEthernet0/1&#xD;  neighbor 172.16.0.17 activate&#xD; exit-address-family&#xD;!&#xD;ip forward-protocol nd&#xD;!&#xD;!&#xD;no ip http server&#xD;no ip http secure-server&#xD;!&#xD;!&#xD;ip prefix-list SITE-2-DR seq 10 permit 10.152.255.22/32&#xD;ip prefix-list SITE-2-DR seq 20 permit 10.2.128.0/17 le 32&#xD;ip prefix-list SITE-2-DR seq 100 deny 0.0.0.0/0 le 32&#xD;!&#xD;ip prefix-list SITE-2-MAIN seq 10 permit 10.152.255.21/32&#xD;ip prefix-list SITE-2-MAIN seq 20 permit 10.2.0.0/17 le 32&#xD;ip prefix-list SITE-2-MAIN seq 100 deny 0.0.0.0/0 le 32&#xD;!&#xD;route-map bgp-to-eigrp permit 10&#xD; set tag 100&#xD;!&#xD;route-map bgp-to-eigrp deny 100&#xD;!&#xD;route-map eigrp-to-bgp deny 10&#xD; match tag 100&#xD;!&#xD;route-map eigrp-to-bgp permit 20&#xD; match ip address prefix-list SITE-2-MAIN SITE-2-DR&#xD; set local-preference 40000&#xD; set weight 0&#xD;!&#xD;route-map eigrp-to-bgp deny 100&#xD;!&#xD;route-map DMVPN-OUT permit 10&#xD; match ip address prefix-list SITE-2-MAIN SITE-2-DR&#xD;!&#xD;route-map DMVPN-OUT deny 100&#xD;!&#xD;route-map DMVPN-IN deny 10&#xD; match ip address prefix-list SITE-2-MAIN SITE-2-DR&#xD;!&#xD;route-map DMVPN-IN permit 100&#xD;!&#xD;!&#xD;!&#xD;control-plane&#xD;!&#xD;banner exec `&#xD;**************************************************************************&#xD;* IOSv is strictly limited to use for evaluation, demonstration and IOS  *&#xD;* education. IOSv is provided as-is and is not supported by Cisco's      *&#xD;* Technical Advisory Center. Any use or disclosure, in whole or in part, *&#xD;* of the IOSv Software or Documentation to any third party for any       *&#xD;* purposes is expressly prohibited except as otherwise authorized by     *&#xD;* Cisco in writing.                                                      *&#xD;**************************************************************************`&#xD;banner incoming `&#xD;**************************************************************************&#xD;* IOSv is strictly limited to use for evaluation, demonstration and IOS  *&#xD;* education. IOSv is provided as-is and is not supported by Cisco's      *&#xD;* Technical Advisory Center. Any use or disclosure, in whole or in part, *&#xD;* of the IOSv Software or Documentation to any third party for any       *&#xD;* purposes is expressly prohibited except as otherwise authorized by     *&#xD;* Cisco in writing.                                                      *&#xD;**************************************************************************`&#xD;banner login `&#xD;**************************************************************************&#xD;* IOSv is strictly limited to use for evaluation, demonstration and IOS  *&#xD;* education. IOSv is provided as-is and is not supported by Cisco's      *&#xD;* Technical Advisory Center. Any use or disclosure, in whole or in part, *&#xD;* of the IOSv Software or Documentation to any third party for any       *&#xD;* purposes is expressly prohibited except as otherwise authorized by     *&#xD;* Cisco in writing.                                                      *&#xD;**************************************************************************`&#xD;!&#xD;line con 0&#xD;line aux 0&#xD;line vty 0 4&#xD; login&#xD; transport input none&#xD;!&#xD;no scheduler allocate&#xD;!&#xD;end</entry>
        </extensions>
        <interface name="GigabitEthernet0/1" id="0"/>
        <interface name="GigabitEthernet0/2" id="1"/>
    </node>
    <node location="556,336" subtype="IOSv" type="SIMPLE" name="spoke-4">
        <extensions>
            <entry type="Boolean" key="Auto-generate config">false</entry>
            <entry type="String" key="config">!&#xD;! Last configuration change at 15:46:24 UTC Wed Jul 1 2015&#xD;!&#xD;version 15.5&#xD;service timestamps debug datetime msec&#xD;service timestamps log datetime msec&#xD;no service password-encryption&#xD;!&#xD;hostname spoke-4&#xD;!&#xD;boot-start-marker&#xD;boot-end-marker&#xD;!&#xD;!&#xD;!&#xD;no aaa new-model&#xD;ethernet lmi ce&#xD;!&#xD;!&#xD;!&#xD;bsd-client server url https://cloudsso.cisco.com/as/token.oauth2&#xD;mmi polling-interval 60&#xD;no mmi auto-configure&#xD;no mmi pvc&#xD;mmi snmp-timeout 180&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;ip vrf f-vrf&#xD; rd 65534:0&#xD;!&#xD;!&#xD;!&#xD;!&#xD;ip cef&#xD;no ipv6 cef&#xD;!&#xD;multilink bundle-name authenticated&#xD;!&#xD;!&#xD;cts logging verbose&#xD;!&#xD;!&#xD;!&#xD;redundancy&#xD;!&#xD;!&#xD;! &#xD;crypto keyring DMVPN_KEYRING vrf f-vrf &#xD;  pre-shared-key address 0.0.0.0 0.0.0.0 key CRYPTOKEY&#xD;!&#xD;!&#xD;!&#xD;!&#xD;crypto isakmp policy 10&#xD; encr aes 192&#xD; hash md5&#xD; authentication pre-share&#xD; group 2&#xD;crypto isakmp invalid-spi-recovery&#xD;crypto isakmp keepalive 10 periodic&#xD;!&#xD;crypto ipsec security-association replay window-size 1024&#xD;!&#xD;crypto ipsec transform-set DMVPN_TRANS_SET esp-aes 192 esp-md5-hmac &#xD; mode tunnel&#xD;!&#xD;crypto ipsec profile DMVPN_PROFILE&#xD; set security-association lifetime seconds 120&#xD; set transform-set DMVPN_TRANS_SET &#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;interface Loopback0&#xD; ip address 10.152.255.22 255.255.255.255&#xD;!&#xD;interface Loopback20&#xD; ip vrf forwarding f-vrf&#xD; ip address 172.16.255.22 255.255.255.255&#xD;!&#xD;interface Tunnel100&#xD; description ## DMVPN SPOKE ##&#xD; ip address 10.152.0.22 255.255.255.0&#xD; no ip redirects&#xD; ip mtu 1400&#xD; ip nhrp authentication NHRPKEY&#xD; ip nhrp map multicast dynamic&#xD; ip nhrp map 10.152.0.1 172.16.255.1&#xD; ip nhrp map multicast 172.16.255.1&#xD; ip nhrp map 10.152.0.2 172.16.255.2&#xD; ip nhrp map multicast 172.16.255.2&#xD; ip nhrp network-id 100&#xD; ip nhrp nhs 10.152.0.1&#xD; ip nhrp nhs 10.152.0.2&#xD; ip nhrp registration no-unique&#xD; ip nhrp registration timeout 120&#xD; ip nhrp shortcut&#xD; ip nhrp redirect&#xD; no ip split-horizon&#xD; ip tcp adjust-mss 1360&#xD; load-interval 30&#xD; if-state nhrp&#xD; qos pre-classify&#xD; tunnel source Loopback20&#xD; tunnel mode gre multipoint&#xD; tunnel key 0&#xD; tunnel path-mtu-discovery&#xD; tunnel vrf f-vrf&#xD; tunnel protection ipsec profile DMVPN_PROFILE&#xD;!&#xD;interface GigabitEthernet0/0&#xD; ip address 10.255.0.22 255.255.0.0&#xD; shutdown&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;interface GigabitEthernet0/1&#xD; ip vrf forwarding f-vrf&#xD; ip address 172.16.0.22 255.255.255.252&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;interface GigabitEthernet0/2&#xD; ip address 10.2.254.5 255.255.255.252&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;!&#xD;router eigrp 10&#xD; network 10.2.0.0 0.0.255.255&#xD; redistribute connected&#xD; redistribute bgp 65002 metric 10000 50000 255 1 1500 route-map bgp-to-eigrp&#xD; distance eigrp 19 170&#xD; passive-interface default&#xD; no passive-interface GigabitEthernet0/2&#xD; eigrp router-id 10.152.255.22&#xD;!&#xD;router bgp 65002&#xD; bgp router-id 10.152.255.22&#xD; bgp log-neighbor-changes&#xD; timers bgp 5 15&#xD; redistribute connected&#xD; redistribute eigrp 7 route-map eigrp-to-bgp&#xD; neighbor DMVPN-HUB peer-group&#xD; neighbor DMVPN-HUB remote-as 65000&#xD; neighbor DMVPN-HUB next-hop-self&#xD; neighbor DMVPN-HUB soft-reconfiguration inbound&#xD; neighbor DMVPN-HUB route-map DMVPN-IN in&#xD; neighbor DMVPN-HUB route-map DMVPN-OUT out&#xD; neighbor 10.152.0.1 peer-group DMVPN-HUB&#xD; neighbor 10.152.0.2 peer-group DMVPN-HUB&#xD; !&#xD; address-family ipv4 vrf f-vrf&#xD;  redistribute connected&#xD;  neighbor 172.16.0.21 remote-as 65534&#xD;  neighbor 172.16.0.21 local-as 65534&#xD;  neighbor 172.16.0.21 update-source GigabitEthernet0/1&#xD;  neighbor 172.16.0.21 activate&#xD; exit-address-family&#xD;!&#xD;ip forward-protocol nd&#xD;!&#xD;!&#xD;no ip http server&#xD;no ip http secure-server&#xD;!&#xD;!&#xD;ip prefix-list SITE-2-DR seq 10 permit 10.152.255.22/32&#xD;ip prefix-list SITE-2-DR seq 20 permit 10.2.128.0/17 le 32&#xD;ip prefix-list SITE-2-DR seq 100 deny 0.0.0.0/0 le 32&#xD;!&#xD;ip prefix-list SITE-2-MAIN seq 10 permit 10.152.255.21/32&#xD;ip prefix-list SITE-2-MAIN seq 20 permit 10.2.0.0/17 le 32&#xD;ip prefix-list SITE-2-MAIN seq 100 deny 0.0.0.0/0 le 32&#xD;!&#xD;route-map bgp-to-eigrp permit 10&#xD; set tag 100&#xD;!&#xD;route-map bgp-to-eigrp deny 100&#xD;!&#xD;route-map eigrp-to-bgp deny 10&#xD; match tag 100&#xD;!&#xD;route-map eigrp-to-bgp permit 20&#xD; match ip address prefix-list SITE-2-MAIN SITE-2-DR&#xD; set local-preference 40000&#xD; set weight 0&#xD;!&#xD;route-map eigrp-to-bgp deny 100&#xD;!&#xD;route-map DMVPN-OUT permit 10&#xD; match ip address prefix-list SITE-2-MAIN SITE-2-DR&#xD;!&#xD;route-map DMVPN-OUT deny 100&#xD;!&#xD;route-map DMVPN-IN deny 10&#xD; match ip address prefix-list SITE-2-MAIN SITE-2-DR&#xD;!&#xD;route-map DMVPN-IN permit 100&#xD;!&#xD;!&#xD;!&#xD;control-plane&#xD;!&#xD;banner exec `&#xD;**************************************************************************&#xD;* IOSv is strictly limited to use for evaluation, demonstration and IOS  *&#xD;* education. IOSv is provided as-is and is not supported by Cisco's      *&#xD;* Technical Advisory Center. Any use or disclosure, in whole or in part, *&#xD;* of the IOSv Software or Documentation to any third party for any       *&#xD;* purposes is expressly prohibited except as otherwise authorized by     *&#xD;* Cisco in writing.                                                      *&#xD;**************************************************************************`&#xD;banner incoming `&#xD;**************************************************************************&#xD;* IOSv is strictly limited to use for evaluation, demonstration and IOS  *&#xD;* education. IOSv is provided as-is and is not supported by Cisco's      *&#xD;* Technical Advisory Center. Any use or disclosure, in whole or in part, *&#xD;* of the IOSv Software or Documentation to any third party for any       *&#xD;* purposes is expressly prohibited except as otherwise authorized by     *&#xD;* Cisco in writing.                                                      *&#xD;**************************************************************************`&#xD;banner login `&#xD;**************************************************************************&#xD;* IOSv is strictly limited to use for evaluation, demonstration and IOS  *&#xD;* education. IOSv is provided as-is and is not supported by Cisco's      *&#xD;* Technical Advisory Center. Any use or disclosure, in whole or in part, *&#xD;* of the IOSv Software or Documentation to any third party for any       *&#xD;* purposes is expressly prohibited except as otherwise authorized by     *&#xD;* Cisco in writing.                                                      *&#xD;**************************************************************************`&#xD;!&#xD;line con 0&#xD;line aux 0&#xD;line vty 0 4&#xD; login&#xD; transport input none&#xD;!&#xD;no scheduler allocate&#xD;!&#xD;end</entry>
        </extensions>
        <interface name="GigabitEthernet0/1" id="0"/>
        <interface name="GigabitEthernet0/2" id="1"/>
    </node>
    <node location="725,331" subtype="IOSv" type="SIMPLE" name="spoke-5">
        <extensions>
            <entry type="Boolean" key="Auto-generate config">false</entry>
            <entry type="String" key="config">!&#xD;! Last configuration change at 15:45:14 UTC Wed Jul 1 2015&#xD;!&#xD;version 15.5&#xD;service timestamps debug datetime msec&#xD;service timestamps log datetime msec&#xD;no service password-encryption&#xD;!&#xD;hostname spoke-5&#xD;!&#xD;boot-start-marker&#xD;boot-end-marker&#xD;!&#xD;!&#xD;!&#xD;no aaa new-model&#xD;ethernet lmi ce&#xD;!&#xD;!&#xD;!&#xD;bsd-client server url https://cloudsso.cisco.com/as/token.oauth2&#xD;mmi polling-interval 60&#xD;no mmi auto-configure&#xD;no mmi pvc&#xD;mmi snmp-timeout 180&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;ip vrf f-vrf&#xD; rd 65534:0&#xD;!&#xD;!&#xD;!&#xD;!&#xD;ip cef&#xD;no ipv6 cef&#xD;!&#xD;multilink bundle-name authenticated&#xD;!&#xD;!&#xD;cts logging verbose&#xD;!&#xD;!&#xD;!&#xD;redundancy&#xD;!&#xD;!&#xD;! &#xD;crypto keyring DMVPN_KEYRING vrf f-vrf &#xD;  pre-shared-key address 0.0.0.0 0.0.0.0 key CRYPTOKEY&#xD;!&#xD;!&#xD;!&#xD;!&#xD;crypto isakmp policy 10&#xD; encr aes 192&#xD; hash md5&#xD; authentication pre-share&#xD; group 2&#xD;crypto isakmp invalid-spi-recovery&#xD;crypto isakmp keepalive 10 periodic&#xD;!&#xD;crypto ipsec security-association replay window-size 1024&#xD;!&#xD;crypto ipsec transform-set DMVPN_TRANS_SET esp-aes 192 esp-md5-hmac &#xD; mode tunnel&#xD;!&#xD;crypto ipsec profile DMVPN_PROFILE&#xD; set security-association lifetime seconds 120&#xD; set transform-set DMVPN_TRANS_SET &#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;interface Loopback0&#xD; ip address 10.152.255.31 255.255.255.255&#xD;!&#xD;interface Loopback20&#xD; ip vrf forwarding f-vrf&#xD; ip address 172.16.255.31 255.255.255.255&#xD;!&#xD;interface Tunnel100&#xD; description ## DMVPN SPOKE ##&#xD; ip address 10.152.0.31 255.255.255.0&#xD; no ip redirects&#xD; ip mtu 1400&#xD; ip nhrp authentication NHRPKEY&#xD; ip nhrp map multicast dynamic&#xD; ip nhrp map 10.152.0.1 172.16.255.1&#xD; ip nhrp map multicast 172.16.255.1&#xD; ip nhrp map 10.152.0.2 172.16.255.2&#xD; ip nhrp map multicast 172.16.255.2&#xD; ip nhrp network-id 100&#xD; ip nhrp nhs 10.152.0.1&#xD; ip nhrp nhs 10.152.0.2&#xD; ip nhrp registration no-unique&#xD; ip nhrp registration timeout 120&#xD; ip nhrp shortcut&#xD; ip nhrp redirect&#xD; no ip split-horizon&#xD; ip tcp adjust-mss 1360&#xD; load-interval 30&#xD; if-state nhrp&#xD; qos pre-classify&#xD; tunnel source Loopback20&#xD; tunnel mode gre multipoint&#xD; tunnel key 0&#xD; tunnel path-mtu-discovery&#xD; tunnel vrf f-vrf&#xD; tunnel protection ipsec profile DMVPN_PROFILE&#xD;!&#xD;interface GigabitEthernet0/0&#xD; ip address 10.255.0.31 255.255.0.0&#xD; shutdown&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;interface GigabitEthernet0/1&#xD; ip vrf forwarding f-vrf&#xD; ip address 172.16.0.26 255.255.255.252&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;interface GigabitEthernet0/2&#xD; ip address 10.3.254.1 255.255.255.252&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;!&#xD;router eigrp 10&#xD; network 10.3.0.0 0.0.255.255&#xD; redistribute connected&#xD; redistribute bgp 65003 metric 10000 1000 255 1 1500 route-map bgp-to-eigrp&#xD; distance eigrp 19 170&#xD; passive-interface default&#xD; no passive-interface GigabitEthernet0/2&#xD; eigrp router-id 10.152.255.31&#xD;!&#xD;router bgp 65003&#xD; bgp router-id 10.152.255.31&#xD; bgp log-neighbor-changes&#xD; timers bgp 5 15&#xD; redistribute connected&#xD; redistribute eigrp 7 route-map eigrp-to-bgp&#xD; neighbor DMVPN-HUB peer-group&#xD; neighbor DMVPN-HUB remote-as 65000&#xD; neighbor DMVPN-HUB next-hop-self&#xD; neighbor DMVPN-HUB soft-reconfiguration inbound&#xD; neighbor DMVPN-HUB route-map DMVPN-IN in&#xD; neighbor DMVPN-HUB route-map DMVPN-OUT out&#xD; neighbor 10.152.0.1 peer-group DMVPN-HUB&#xD; neighbor 10.152.0.2 peer-group DMVPN-HUB&#xD; !&#xD; address-family ipv4 vrf f-vrf&#xD;  redistribute connected&#xD;  neighbor 172.16.0.25 remote-as 65534&#xD;  neighbor 172.16.0.25 local-as 65534&#xD;  neighbor 172.16.0.25 update-source GigabitEthernet0/1&#xD;  neighbor 172.16.0.25 activate&#xD; exit-address-family&#xD;!&#xD;ip forward-protocol nd&#xD;!&#xD;!&#xD;no ip http server&#xD;no ip http secure-server&#xD;!&#xD;!&#xD;ip prefix-list SITE-3-DR seq 10 permit 10.152.255.32/32&#xD;ip prefix-list SITE-3-DR seq 20 permit 10.3.128.0/17 le 32&#xD;ip prefix-list SITE-3-DR seq 100 deny 0.0.0.0/0 le 32&#xD;!&#xD;ip prefix-list SITE-3-MAIN seq 10 permit 10.152.255.31/32&#xD;ip prefix-list SITE-3-MAIN seq 20 permit 10.3.0.0/17 le 32&#xD;ip prefix-list SITE-3-MAIN seq 100 deny 0.0.0.0/0 le 32&#xD;!&#xD;route-map bgp-to-eigrp permit 10&#xD; set tag 100&#xD;!&#xD;route-map bgp-to-eigrp deny 100&#xD;!&#xD;route-map eigrp-to-bgp deny 10&#xD; match tag 100&#xD;!&#xD;route-map eigrp-to-bgp permit 20&#xD; match ip address prefix-list SITE-3-MAIN SITE-3-DR&#xD; set local-preference 40000&#xD; set weight 0&#xD;!&#xD;route-map eigrp-to-bgp deny 100&#xD;!&#xD;route-map DMVPN-OUT permit 10&#xD; match ip address prefix-list SITE-3-MAIN SITE-3-DR&#xD;!&#xD;route-map DMVPN-OUT deny 100&#xD;!&#xD;route-map DMVPN-IN deny 10&#xD; match ip address prefix-list SITE-3-MAIN SITE-3-DR&#xD;!&#xD;route-map DMVPN-IN permit 100&#xD;!&#xD;!&#xD;!&#xD;control-plane&#xD;!&#xD;banner exec `&#xD;**************************************************************************&#xD;* IOSv is strictly limited to use for evaluation, demonstration and IOS  *&#xD;* education. IOSv is provided as-is and is not supported by Cisco's      *&#xD;* Technical Advisory Center. Any use or disclosure, in whole or in part, *&#xD;* of the IOSv Software or Documentation to any third party for any       *&#xD;* purposes is expressly prohibited except as otherwise authorized by     *&#xD;* Cisco in writing.                                                      *&#xD;**************************************************************************`&#xD;banner incoming `&#xD;**************************************************************************&#xD;* IOSv is strictly limited to use for evaluation, demonstration and IOS  *&#xD;* education. IOSv is provided as-is and is not supported by Cisco's      *&#xD;* Technical Advisory Center. Any use or disclosure, in whole or in part, *&#xD;* of the IOSv Software or Documentation to any third party for any       *&#xD;* purposes is expressly prohibited except as otherwise authorized by     *&#xD;* Cisco in writing.                                                      *&#xD;**************************************************************************`&#xD;banner login `&#xD;**************************************************************************&#xD;* IOSv is strictly limited to use for evaluation, demonstration and IOS  *&#xD;* education. IOSv is provided as-is and is not supported by Cisco's      *&#xD;* Technical Advisory Center. Any use or disclosure, in whole or in part, *&#xD;* of the IOSv Software or Documentation to any third party for any       *&#xD;* purposes is expressly prohibited except as otherwise authorized by     *&#xD;* Cisco in writing.                                                      *&#xD;**************************************************************************`&#xD;!&#xD;line con 0&#xD;line aux 0&#xD;line vty 0 4&#xD; login&#xD; transport input none&#xD;!&#xD;no scheduler allocate&#xD;!&#xD;end</entry>
        </extensions>
        <interface name="GigabitEthernet0/1" id="0"/>
        <interface name="GigabitEthernet0/2" id="1"/>
    </node>
    <node location="833,271" subtype="IOSv" type="SIMPLE" name="spoke-6">
        <extensions>
            <entry type="Boolean" key="Auto-generate config">false</entry>
            <entry type="String" key="config">!&#xD;! Last configuration change at 15:46:21 UTC Wed Jul 1 2015&#xD;!&#xD;version 15.5&#xD;service timestamps debug datetime msec&#xD;service timestamps log datetime msec&#xD;no service password-encryption&#xD;!&#xD;hostname spoke-6&#xD;!&#xD;boot-start-marker&#xD;boot-end-marker&#xD;!&#xD;!&#xD;!&#xD;no aaa new-model&#xD;ethernet lmi ce&#xD;!&#xD;!&#xD;!&#xD;bsd-client server url https://cloudsso.cisco.com/as/token.oauth2&#xD;mmi polling-interval 60&#xD;no mmi auto-configure&#xD;no mmi pvc&#xD;mmi snmp-timeout 180&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;ip vrf f-vrf&#xD; rd 65534:0&#xD;!&#xD;!&#xD;!&#xD;!&#xD;ip cef&#xD;no ipv6 cef&#xD;!&#xD;multilink bundle-name authenticated&#xD;!&#xD;!&#xD;cts logging verbose&#xD;!&#xD;!&#xD;!&#xD;redundancy&#xD;!&#xD;!&#xD;! &#xD;crypto keyring DMVPN_KEYRING vrf f-vrf &#xD;  pre-shared-key address 0.0.0.0 0.0.0.0 key CRYPTOKEY&#xD;!&#xD;!&#xD;!&#xD;!&#xD;crypto isakmp policy 10&#xD; encr aes 192&#xD; hash md5&#xD; authentication pre-share&#xD; group 2&#xD;crypto isakmp invalid-spi-recovery&#xD;crypto isakmp keepalive 10 periodic&#xD;!&#xD;crypto ipsec security-association replay window-size 1024&#xD;!&#xD;crypto ipsec transform-set DMVPN_TRANS_SET esp-aes 192 esp-md5-hmac &#xD; mode tunnel&#xD;!&#xD;crypto ipsec profile DMVPN_PROFILE&#xD; set security-association lifetime seconds 120&#xD; set transform-set DMVPN_TRANS_SET &#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;!&#xD;interface Loopback0&#xD; ip address 10.152.255.32 255.255.255.255&#xD;!&#xD;interface Loopback20&#xD; ip vrf forwarding f-vrf&#xD; ip address 172.16.255.32 255.255.255.255&#xD;!&#xD;interface Tunnel100&#xD; description ## DMVPN SPOKE ##&#xD; ip address 10.152.0.32 255.255.255.0&#xD; no ip redirects&#xD; ip mtu 1400&#xD; ip nhrp authentication NHRPKEY&#xD; ip nhrp map multicast dynamic&#xD; ip nhrp map 10.152.0.1 172.16.255.1&#xD; ip nhrp map multicast 172.16.255.1&#xD; ip nhrp map 10.152.0.2 172.16.255.2&#xD; ip nhrp map multicast 172.16.255.2&#xD; ip nhrp network-id 100&#xD; ip nhrp nhs 10.152.0.1&#xD; ip nhrp nhs 10.152.0.2&#xD; ip nhrp registration no-unique&#xD; ip nhrp registration timeout 120&#xD; ip nhrp shortcut&#xD; ip nhrp redirect&#xD; no ip split-horizon&#xD; ip tcp adjust-mss 1360&#xD; load-interval 30&#xD; if-state nhrp&#xD; qos pre-classify&#xD; tunnel source Loopback20&#xD; tunnel mode gre multipoint&#xD; tunnel key 0&#xD; tunnel path-mtu-discovery&#xD; tunnel vrf f-vrf&#xD; tunnel protection ipsec profile DMVPN_PROFILE&#xD;!&#xD;interface GigabitEthernet0/0&#xD; ip address 10.255.0.32 255.255.0.0&#xD; shutdown&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;interface GigabitEthernet0/1&#xD; ip vrf forwarding f-vrf&#xD; ip address 172.16.0.30 255.255.255.252&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;interface GigabitEthernet0/2&#xD; ip address 10.3.254.5 255.255.255.252&#xD; duplex auto&#xD; speed auto&#xD; media-type rj45&#xD;!&#xD;!&#xD;router eigrp 10&#xD; network 10.3.0.0 0.0.255.255&#xD; redistribute connected&#xD; redistribute bgp 65003 metric 10000 50000 255 1 1500 route-map bgp-to-eigrp&#xD; distance eigrp 19 170&#xD; passive-interface default&#xD; no passive-interface GigabitEthernet0/2&#xD; eigrp router-id 10.152.255.32&#xD;!&#xD;router bgp 65003&#xD; bgp router-id 10.152.255.32&#xD; bgp log-neighbor-changes&#xD; timers bgp 5 15&#xD; redistribute connected&#xD; redistribute eigrp 7 route-map eigrp-to-bgp&#xD; neighbor DMVPN-HUB peer-group&#xD; neighbor DMVPN-HUB remote-as 65000&#xD; neighbor DMVPN-HUB next-hop-self&#xD; neighbor DMVPN-HUB soft-reconfiguration inbound&#xD; neighbor DMVPN-HUB route-map DMVPN-IN in&#xD; neighbor DMVPN-HUB route-map DMVPN-OUT out&#xD; neighbor 10.152.0.1 peer-group DMVPN-HUB&#xD; neighbor 10.152.0.2 peer-group DMVPN-HUB&#xD; !&#xD; address-family ipv4 vrf f-vrf&#xD;  redistribute connected&#xD;  neighbor 172.16.0.29 remote-as 65534&#xD;  neighbor 172.16.0.29 local-as 65534&#xD;  neighbor 172.16.0.29 update-source GigabitEthernet0/1&#xD;  neighbor 172.16.0.29 activate&#xD; exit-address-family&#xD;!&#xD;ip forward-protocol nd&#xD;!&#xD;!&#xD;no ip http server&#xD;no ip http secure-server&#xD;!&#xD;!&#xD;ip prefix-list SITE-3-DR seq 10 permit 10.152.255.32/32&#xD;ip prefix-list SITE-3-DR seq 20 permit 10.3.128.0/17 le 32&#xD;ip prefix-list SITE-3-DR seq 100 deny 0.0.0.0/0 le 32&#xD;!&#xD;ip prefix-list SITE-3-MAIN seq 10 permit 10.152.255.31/32&#xD;ip prefix-list SITE-3-MAIN seq 20 permit 10.3.0.0/17 le 32&#xD;ip prefix-list SITE-3-MAIN seq 100 deny 0.0.0.0/0 le 32&#xD;!&#xD;route-map bgp-to-eigrp permit 10&#xD; set tag 100&#xD;!&#xD;route-map bgp-to-eigrp deny 100&#xD;!&#xD;route-map eigrp-to-bgp deny 10&#xD; match tag 100&#xD;!&#xD;route-map eigrp-to-bgp permit 20&#xD; match ip address prefix-list SITE-3-MAIN SITE-3-DR&#xD; set local-preference 40000&#xD; set weight 0&#xD;!&#xD;route-map eigrp-to-bgp deny 100&#xD;!&#xD;route-map DMVPN-OUT permit 10&#xD; match ip address prefix-list SITE-3-MAIN SITE-3-DR&#xD;!&#xD;route-map DMVPN-OUT deny 100&#xD;!&#xD;route-map DMVPN-IN deny 10&#xD; match ip address prefix-list SITE-3-MAIN SITE-3-DR&#xD;!&#xD;route-map DMVPN-IN permit 100&#xD;!&#xD;!&#xD;!&#xD;control-plane&#xD;!&#xD;banner exec `&#xD;**************************************************************************&#xD;* IOSv is strictly limited to use for evaluation, demonstration and IOS  *&#xD;* education. IOSv is provided as-is and is not supported by Cisco's      *&#xD;* Technical Advisory Center. Any use or disclosure, in whole or in part, *&#xD;* of the IOSv Software or Documentation to any third party for any       *&#xD;* purposes is expressly prohibited except as otherwise authorized by     *&#xD;* Cisco in writing.                                                      *&#xD;**************************************************************************`&#xD;banner incoming `&#xD;**************************************************************************&#xD;* IOSv is strictly limited to use for evaluation, demonstration and IOS  *&#xD;* education. IOSv is provided as-is and is not supported by Cisco's      *&#xD;* Technical Advisory Center. Any use or disclosure, in whole or in part, *&#xD;* of the IOSv Software or Documentation to any third party for any       *&#xD;* purposes is expressly prohibited except as otherwise authorized by     *&#xD;* Cisco in writing.                                                      *&#xD;**************************************************************************`&#xD;banner login `&#xD;**************************************************************************&#xD;* IOSv is strictly limited to use for evaluation, demonstration and IOS  *&#xD;* education. IOSv is provided as-is and is not supported by Cisco's      *&#xD;* Technical Advisory Center. Any use or disclosure, in whole or in part, *&#xD;* of the IOSv Software or Documentation to any third party for any       *&#xD;* purposes is expressly prohibited except as otherwise authorized by     *&#xD;* Cisco in writing.                                                      *&#xD;**************************************************************************`&#xD;!&#xD;line con 0&#xD;line aux 0&#xD;line vty 0 4&#xD; login&#xD; transport input none&#xD;!&#xD;no scheduler allocate&#xD;!&#xD;end</entry>
        </extensions>
        <interface name="GigabitEthernet0/1" id="0"/>
        <interface name="GigabitEthernet0/2" id="1"/>
    </node>
    <connection src="/virl:topology/virl:node[1]/virl:interface[1]" dst="/virl:topology/virl:node[6]/virl:interface[1]"/>
    <connection src="/virl:topology/virl:node[1]/virl:interface[2]" dst="/virl:topology/virl:node[7]/virl:interface[1]"/>
    <connection src="/virl:topology/virl:node[1]/virl:interface[3]" dst="/virl:topology/virl:node[8]/virl:interface[1]"/>
    <connection src="/virl:topology/virl:node[1]/virl:interface[4]" dst="/virl:topology/virl:node[9]/virl:interface[1]"/>
    <connection src="/virl:topology/virl:node[1]/virl:interface[5]" dst="/virl:topology/virl:node[10]/virl:interface[1]"/>
    <connection src="/virl:topology/virl:node[1]/virl:interface[6]" dst="/virl:topology/virl:node[11]/virl:interface[1]"/>
    <connection src="/virl:topology/virl:node[1]/virl:interface[7]" dst="/virl:topology/virl:node[12]/virl:interface[1]"/>
    <connection src="/virl:topology/virl:node[1]/virl:interface[8]" dst="/virl:topology/virl:node[13]/virl:interface[1]"/>
    <connection src="/virl:topology/virl:node[6]/virl:interface[2]" dst="/virl:topology/virl:node[5]/virl:interface[1]"/>
    <connection src="/virl:topology/virl:node[7]/virl:interface[2]" dst="/virl:topology/virl:node[5]/virl:interface[2]"/>
    <connection src="/virl:topology/virl:node[8]/virl:interface[2]" dst="/virl:topology/virl:node[2]/virl:interface[1]"/>
    <connection src="/virl:topology/virl:node[9]/virl:interface[2]" dst="/virl:topology/virl:node[2]/virl:interface[2]"/>
    <connection src="/virl:topology/virl:node[10]/virl:interface[2]" dst="/virl:topology/virl:node[3]/virl:interface[1]"/>
    <connection src="/virl:topology/virl:node[11]/virl:interface[2]" dst="/virl:topology/virl:node[3]/virl:interface[2]"/>
    <connection src="/virl:topology/virl:node[12]/virl:interface[2]" dst="/virl:topology/virl:node[4]/virl:interface[1]"/>
    <connection src="/virl:topology/virl:node[13]/virl:interface[2]" dst="/virl:topology/virl:node[4]/virl:interface[2]"/>
</topology>
